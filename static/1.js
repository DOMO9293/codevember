!function t(r,n,e){function i(s,u){if(!n[s]){if(!r[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[s]={exports:{}};r[s][0].call(h.exports,function(t){var n=r[s][1][t];return i(n?n:t)},h,h.exports,t,r,n,e)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)i(e[s]);return i}({1:[function(t,r,n){(function(r){function e(){function t(){}try{var r=new Uint8Array(1);return r.foo=function(){return 42},r.constructor=t,42===r.foo()&&r.constructor===t&&"function"==typeof r.subarray&&0===r.subarray(1,1).byteLength}catch(n){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t){return this instanceof o?(this.length=0,this.parent=void 0,"number"==typeof t?s(this,t):"string"==typeof t?u(this,t,arguments.length>1?arguments[1]:"utf8"):a(this,t)):arguments.length>1?new o(t,arguments[1]):new o(t)}function s(t,r){if(t=d(t,0>r?0:0|g(r)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;r>n;n++)t[n]=0;return t}function u(t,r,n){("string"!=typeof n||""===n)&&(n="utf8");var e=0|w(r,n);return t=d(t,e),t.write(r,n),t}function a(t,r){if(o.isBuffer(r))return f(t,r);if(K(r))return h(t,r);if(null==r)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(r.buffer instanceof ArrayBuffer)return c(t,r);if(r instanceof ArrayBuffer)return l(t,r)}return r.length?p(t,r):v(t,r)}function f(t,r){var n=0|g(r.length);return t=d(t,n),r.copy(t,0,0,n),t}function h(t,r){var n=0|g(r.length);t=d(t,n);for(var e=0;n>e;e+=1)t[e]=255&r[e];return t}function c(t,r){var n=0|g(r.length);t=d(t,n);for(var e=0;n>e;e+=1)t[e]=255&r[e];return t}function l(t,r){return o.TYPED_ARRAY_SUPPORT?(r.byteLength,t=o._augment(new Uint8Array(r))):t=c(t,new Uint8Array(r)),t}function p(t,r){var n=0|g(r.length);t=d(t,n);for(var e=0;n>e;e+=1)t[e]=255&r[e];return t}function v(t,r){var n,e=0;"Buffer"===r.type&&K(r.data)&&(n=r.data,e=0|g(n.length)),t=d(t,e);for(var i=0;e>i;i+=1)t[i]=255&n[i];return t}function d(t,r){o.TYPED_ARRAY_SUPPORT?(t=o._augment(new Uint8Array(r)),t.__proto__=o.prototype):(t.length=r,t._isBuffer=!0);var n=0!==r&&r<=o.poolSize>>>1;return n&&(t.parent=Q),t}function g(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function m(t,r){if(!(this instanceof m))return new m(t,r);var n=new o(t,r);return delete n.parent,n}function w(t,r){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var e=!1;;)switch(r){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(t).length;default:if(e)return z(t).length;r=(""+r).toLowerCase(),e=!0}}function y(t,r,n){var e=!1;if(r=0|r,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>r&&(r=0),n>this.length&&(n=this.length),r>=n)return"";for(;;)switch(t){case"hex":return U(this,r,n);case"utf8":case"utf-8":return T(this,r,n);case"ascii":return B(this,r,n);case"binary":return R(this,r,n);case"base64":return I(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,r,n);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function b(t,r,n,e){n=Number(n)||0;var i=t.length-n;e?(e=Number(e),e>i&&(e=i)):e=i;var o=r.length;if(o%2!==0)throw new Error("Invalid hex string");e>o/2&&(e=o/2);for(var s=0;e>s;s++){var u=parseInt(r.substr(2*s,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[n+s]=u}return s}function x(t,r,n,e){return G(z(r,t.length-n),t,n,e)}function E(t,r,n,e){return G(H(r),t,n,e)}function A(t,r,n,e){return E(t,r,n,e)}function _(t,r,n,e){return G(X(r),t,n,e)}function M(t,r,n,e){return G(V(r,t.length-n),t,n,e)}function I(t,r,n){return 0===r&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(r,n))}function T(t,r,n){n=Math.min(t.length,n);for(var e=[],i=r;n>i;){var o=t[i],s=null,u=o>239?4:o>223?3:o>191?2:1;if(n>=i+u){var a,f,h,c;switch(u){case 1:128>o&&(s=o);break;case 2:a=t[i+1],128===(192&a)&&(c=(31&o)<<6|63&a,c>127&&(s=c));break;case 3:a=t[i+1],f=t[i+2],128===(192&a)&&128===(192&f)&&(c=(15&o)<<12|(63&a)<<6|63&f,c>2047&&(55296>c||c>57343)&&(s=c));break;case 4:a=t[i+1],f=t[i+2],h=t[i+3],128===(192&a)&&128===(192&f)&&128===(192&h)&&(c=(15&o)<<18|(63&a)<<12|(63&f)<<6|63&h,c>65535&&1114112>c&&(s=c))}}null===s?(s=65533,u=1):s>65535&&(s-=65536,e.push(s>>>10&1023|55296),s=56320|1023&s),e.push(s),i+=u}return L(e)}function L(t){var r=t.length;if(W>=r)return String.fromCharCode.apply(String,t);for(var n="",e=0;r>e;)n+=String.fromCharCode.apply(String,t.slice(e,e+=W));return n}function B(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;n>i;i++)e+=String.fromCharCode(127&t[i]);return e}function R(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;n>i;i++)e+=String.fromCharCode(t[i]);return e}function U(t,r,n){var e=t.length;(!r||0>r)&&(r=0),(!n||0>n||n>e)&&(n=e);for(var i="",o=r;n>o;o++)i+=Y(t[o]);return i}function S(t,r,n){for(var e=t.slice(r,n),i="",o=0;o<e.length;o+=2)i+=String.fromCharCode(e[o]+256*e[o+1]);return i}function k(t,r,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+r>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,r,n,e,i,s){if(!o.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(r>i||s>r)throw new RangeError("value is out of bounds");if(n+e>t.length)throw new RangeError("index out of range")}function j(t,r,n,e){0>r&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(r&255<<8*(e?i:1-i))>>>8*(e?i:1-i)}function O(t,r,n,e){0>r&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=r>>>8*(e?i:3-i)&255}function C(t,r,n,e,i,o){if(r>i||o>r)throw new RangeError("value is out of bounds");if(n+e>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function D(t,r,n,e,i){return i||C(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,r,n,e,23,4),n+4}function N(t,r,n,e,i){return i||C(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,r,n,e,52,8),n+8}function F(t){if(t=q(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return 16>t?"0"+t.toString(16):t.toString(16)}function z(t,r){r=r||1/0;for(var n,e=t.length,i=null,o=[],s=0;e>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(s+1===e){(r-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(r-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((r-=1)<0)break;o.push(n)}else if(2048>n){if((r-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((r-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){for(var r=[],n=0;n<t.length;n++)r.push(255&t.charCodeAt(n));return r}function V(t,r){for(var n,e,i,o=[],s=0;s<t.length&&!((r-=2)<0);s++)n=t.charCodeAt(s),e=n>>8,i=n%256,o.push(i),o.push(e);return o}function X(t){return J.toByteArray(F(t))}function G(t,r,n,e){for(var i=0;e>i&&!(i+n>=r.length||i>=t.length);i++)r[i+n]=t[i];return i}var J=t("base64-js"),Z=t("ieee754"),K=t("is-array");n.Buffer=o,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var Q={};o.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:e(),o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array),o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,r){if(!o.isBuffer(t)||!o.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,e=r.length,i=0,s=Math.min(n,e);s>i&&t[i]===r[i];)++i;return i!==s&&(n=t[i],e=r[i]),e>n?-1:n>e?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,r){if(!K(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new o(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;n++)r+=t[n].length;var e=new o(r),i=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(e,i),i+=s.length}return e},o.byteLength=w,o.prototype.length=void 0,o.prototype.parent=void 0,o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===o.compare(this,t)},o.prototype.inspect=function(){var t="",r=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:o.compare(this,t)},o.prototype.indexOf=function(t,r){function n(t,r,n){for(var e=-1,i=0;n+i<t.length;i++)if(t[n+i]===r[-1===e?0:i-e]){if(-1===e&&(e=i),i-e+1===r.length)return n+e}else e=-1;return-1}if(r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r>>=0,0===this.length)return-1;if(r>=this.length)return-1;if(0>r&&(r=Math.max(this.length+r,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,r);if(o.isBuffer(t))return n(this,t,r);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,r):n(this,[t],r);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},o.prototype.set=function(t,r){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,r)},o.prototype.write=function(t,r,n,e){if(void 0===r)e="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)e=r,n=this.length,r=0;else if(isFinite(r))r=0|r,isFinite(n)?(n=0|n,void 0===e&&(e="utf8")):(e=n,n=void 0);else{var i=e;e=r,r=0|n,n=i}var o=this.length-r;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>r)||r>this.length)throw new RangeError("attempt to write outside buffer bounds");e||(e="utf8");for(var s=!1;;)switch(e){case"hex":return b(this,t,r,n);case"utf8":case"utf-8":return x(this,t,r,n);case"ascii":return E(this,t,r,n);case"binary":return A(this,t,r,n);case"base64":return _(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;o.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>r?(r+=n,0>r&&(r=0)):r>n&&(r=n),t>r&&(r=t);var e;if(o.TYPED_ARRAY_SUPPORT)e=o._augment(this.subarray(t,r));else{var i=r-t;e=new o(i,void 0);for(var s=0;i>s;s++)e[s]=this[s+t]}return e.length&&(e.parent=this.parent||this),e},o.prototype.readUIntLE=function(t,r,n){t=0|t,r=0|r,n||k(t,r,this.length);for(var e=this[t],i=1,o=0;++o<r&&(i*=256);)e+=this[t+o]*i;return e},o.prototype.readUIntBE=function(t,r,n){t=0|t,r=0|r,n||k(t,r,this.length);for(var e=this[t+--r],i=1;r>0&&(i*=256);)e+=this[t+--r]*i;return e},o.prototype.readUInt8=function(t,r){return r||k(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,r){return r||k(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,r){return r||k(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,r){return r||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,r){return r||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,r,n){t=0|t,r=0|r,n||k(t,r,this.length);for(var e=this[t],i=1,o=0;++o<r&&(i*=256);)e+=this[t+o]*i;return i*=128,e>=i&&(e-=Math.pow(2,8*r)),e},o.prototype.readIntBE=function(t,r,n){t=0|t,r=0|r,n||k(t,r,this.length);for(var e=r,i=1,o=this[t+--e];e>0&&(i*=256);)o+=this[t+--e]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o},o.prototype.readInt8=function(t,r){return r||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,r){r||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,r){r||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,r){return r||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,r){return r||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,r){return r||k(t,4,this.length),Z.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,r){return r||k(t,4,this.length),Z.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,r){return r||k(t,8,this.length),Z.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,r){return r||k(t,8,this.length),Z.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,r,n,e){t=+t,r=0|r,n=0|n,e||P(this,t,r,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[r]=255&t;++o<n&&(i*=256);)this[r+o]=t/i&255;return r+n},o.prototype.writeUIntBE=function(t,r,n,e){t=+t,r=0|r,n=0|n,e||P(this,t,r,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+n},o.prototype.writeUInt8=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},o.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):j(this,t,r,!0),r+2},o.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):j(this,t,r,!1),r+2},o.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):O(this,t,r,!0),r+4},o.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):O(this,t,r,!1),r+4},o.prototype.writeIntLE=function(t,r,n,e){if(t=+t,r=0|r,!e){var i=Math.pow(2,8*n-1);P(this,t,r,n,i-1,-i)}var o=0,s=1,u=0>t?1:0;for(this[r]=255&t;++o<n&&(s*=256);)this[r+o]=(t/s>>0)-u&255;return r+n},o.prototype.writeIntBE=function(t,r,n,e){if(t=+t,r=0|r,!e){var i=Math.pow(2,8*n-1);P(this,t,r,n,i-1,-i)}var o=n-1,s=1,u=0>t?1:0;for(this[r+o]=255&t;--o>=0&&(s*=256);)this[r+o]=(t/s>>0)-u&255;return r+n},o.prototype.writeInt8=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[r]=255&t,r+1},o.prototype.writeInt16LE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):j(this,t,r,!0),r+2},o.prototype.writeInt16BE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):j(this,t,r,!1),r+2},o.prototype.writeInt32LE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):O(this,t,r,!0),r+4},o.prototype.writeInt32BE=function(t,r,n){return t=+t,r=0|r,n||P(this,t,r,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):O(this,t,r,!1),r+4},o.prototype.writeFloatLE=function(t,r,n){return D(this,t,r,!0,n)},o.prototype.writeFloatBE=function(t,r,n){return D(this,t,r,!1,n)},o.prototype.writeDoubleLE=function(t,r,n){return N(this,t,r,!0,n)},o.prototype.writeDoubleBE=function(t,r,n){return N(this,t,r,!1,n)},o.prototype.copy=function(t,r,n,e){if(n||(n=0),e||0===e||(e=this.length),r>=t.length&&(r=t.length),r||(r=0),e>0&&n>e&&(e=n),e===n)return 0;if(0===t.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),t.length-r<e-n&&(e=t.length-r+n);var i,s=e-n;if(this===t&&r>n&&e>r)for(i=s-1;i>=0;i--)t[i+r]=this[i+n];else if(1e3>s||!o.TYPED_ARRAY_SUPPORT)for(i=0;s>i;i++)t[i+r]=this[i+n];else t._set(this.subarray(n,n+s),r);return s},o.prototype.fill=function(t,r,n){if(t||(t=0),r||(r=0),n||(n=this.length),r>n)throw new RangeError("end < start");if(n!==r&&0!==this.length){if(0>r||r>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var e;if("number"==typeof t)for(e=r;n>e;e++)this[e]=t;else{var i=z(t.toString()),o=i.length;for(e=r;n>e;e++)this[e]=i[e%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var t=new Uint8Array(this.length),r=0,n=t.length;n>r;r+=1)t[r]=this[r];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=o.prototype;o._augment=function(t){return t.constructor=o,t._isBuffer=!0,t._set=t.set,t.get=$.get,t.set=$.set,t.write=$.write,t.toString=$.toString,t.toLocaleString=$.toString,t.toJSON=$.toJSON,t.equals=$.equals,t.compare=$.compare,t.indexOf=$.indexOf,t.copy=$.copy,t.slice=$.slice,t.readUIntLE=$.readUIntLE,t.readUIntBE=$.readUIntBE,t.readUInt8=$.readUInt8,t.readUInt16LE=$.readUInt16LE,t.readUInt16BE=$.readUInt16BE,t.readUInt32LE=$.readUInt32LE,t.readUInt32BE=$.readUInt32BE,t.readIntLE=$.readIntLE,t.readIntBE=$.readIntBE,t.readInt8=$.readInt8,t.readInt16LE=$.readInt16LE,t.readInt16BE=$.readInt16BE,t.readInt32LE=$.readInt32LE,t.readInt32BE=$.readInt32BE,t.readFloatLE=$.readFloatLE,t.readFloatBE=$.readFloatBE,t.readDoubleLE=$.readDoubleLE,t.readDoubleBE=$.readDoubleBE,t.writeUInt8=$.writeUInt8,t.writeUIntLE=$.writeUIntLE,t.writeUIntBE=$.writeUIntBE,t.writeUInt16LE=$.writeUInt16LE,t.writeUInt16BE=$.writeUInt16BE,t.writeUInt32LE=$.writeUInt32LE,t.writeUInt32BE=$.writeUInt32BE,t.writeIntLE=$.writeIntLE,t.writeIntBE=$.writeIntBE,t.writeInt8=$.writeInt8,t.writeInt16LE=$.writeInt16LE,t.writeInt16BE=$.writeInt16BE,t.writeInt32LE=$.writeInt32LE,t.writeInt32BE=$.writeInt32BE,t.writeFloatLE=$.writeFloatLE,t.writeFloatBE=$.writeFloatBE,t.writeDoubleLE=$.writeDoubleLE,t.writeDoubleBE=$.writeDoubleBE,t.fill=$.fill,t.inspect=$.inspect,t.toArrayBuffer=$.toArrayBuffer,t};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:3,"is-array":4}],2:[function(t,r,n){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===s||r===c?62:r===u||r===l?63:a>r?-1:a+10>r?r-a+26+26:h+26>r?r-h:f+26>r?r-f+26:void 0}function n(t){function n(t){f[c++]=t}var e,i,s,u,a,f;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=t.length;a="="===t.charAt(h-2)?2:"="===t.charAt(h-1)?1:0,f=new o(3*t.length/4-a),s=a>0?t.length-4:t.length;var c=0;for(e=0,i=0;s>e;e+=4,i+=3)u=r(t.charAt(e))<<18|r(t.charAt(e+1))<<12|r(t.charAt(e+2))<<6|r(t.charAt(e+3)),n((16711680&u)>>16),n((65280&u)>>8),n(255&u);return 2===a?(u=r(t.charAt(e))<<2|r(t.charAt(e+1))>>4,n(255&u)):1===a&&(u=r(t.charAt(e))<<10|r(t.charAt(e+1))<<4|r(t.charAt(e+2))>>2,n(u>>8&255),n(255&u)),f}function i(t){function r(t){return e.charAt(t)}function n(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var i,o,s,u=t.length%3,a="";for(i=0,s=t.length-u;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],a+=n(o);switch(u){case 1:o=t[t.length-1],a+=r(o>>2),a+=r(o<<4&63),a+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],a+=r(o>>10),a+=r(o>>4&63),a+=r(o<<2&63),a+="="}return a}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),u="/".charCodeAt(0),a="0".charCodeAt(0),f="a".charCodeAt(0),h="A".charCodeAt(0),c="-".charCodeAt(0),l="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],3:[function(t,r,n){n.read=function(t,r,n,e,i){var o,s,u=8*i-e-1,a=(1<<u)-1,f=a>>1,h=-7,c=n?i-1:0,l=n?-1:1,p=t[r+c];for(c+=l,o=p&(1<<-h)-1,p>>=-h,h+=u;h>0;o=256*o+t[r+c],c+=l,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=e;h>0;s=256*s+t[r+c],c+=l,h-=8);if(0===o)o=1-f;else{if(o===a)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,e),o-=f}return(p?-1:1)*s*Math.pow(2,o-e)},n.write=function(t,r,n,e,i,o){var s,u,a,f=8*o-i-1,h=(1<<f)-1,c=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=e?0:o-1,v=e?1:-1,d=0>r||0===r&&0>1/r?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,s=h):(s=Math.floor(Math.log(r)/Math.LN2),r*(a=Math.pow(2,-s))<1&&(s--,a*=2),r+=s+c>=1?l/a:l*Math.pow(2,1-c),r*a>=2&&(s++,a/=2),s+c>=h?(u=0,s=h):s+c>=1?(u=(r*a-1)*Math.pow(2,i),s+=c):(u=r*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&u,p+=v,u/=256,i-=8);for(s=s<<i|u,f+=i;f>0;t[n+p]=255&s,p+=v,s/=256,f-=8);t[n+p-v]|=128*d}},{}],4:[function(t,r,n){var e=Array.isArray,i=Object.prototype.toString;r.exports=e||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],5:[function(t,r,n){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}r.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var r,n,e,o,a,f;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(r=arguments[1],r instanceof Error)throw r;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),f=n.slice(),e=f.length,a=0;e>a;a++)f[a].apply(this,o);return!0},e.prototype.addListener=function(t,r){var n;if(!i(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(r.listener)?r.listener:r),this._events[t]?s(this._events[t])?this._events[t].push(r):this._events[t]=[this._events[t],r]:this._events[t]=r,s(this._events[t])&&!this._events[t].warned&&(n=u(this._maxListeners)?e.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,r){function n(){this.removeListener(t,n),e||(e=!0,r.apply(this,arguments))}if(!i(r))throw TypeError("listener must be a function");var e=!1;return n.listener=r,this.on(t,n),this},e.prototype.removeListener=function(t,r){var n,e,o,u;if(!i(r))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,e=-1,n===r||i(n.listener)&&n.listener===r)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,r);else if(s(n)){for(u=o;u-->0;)if(n[u]===r||n[u].listener&&n[u].listener===r){e=u;break}if(0>e)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(e,1),this._events.removeListener&&this.emit("removeListener",t,r)}return this},e.prototype.removeAllListeners=function(t){var r,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(r in this._events)"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){var r;return r=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.prototype.listenerCount=function(t){if(this._events){var r=this._events[t];if(i(r))return 1;if(r)return r.length}return 0},e.listenerCount=function(t,r){return t.listenerCount(r)}},{}],6:[function(t,r,n){function e(){h=!1,u.length?f=u.concat(f):c=-1,f.length&&i()}function i(){if(!h){var t=setTimeout(e);h=!0;for(var r=f.length;r;){for(u=f,f=[];++c<r;)u&&u[c].run();c=-1,r=f.length}u=null,h=!1,clearTimeout(t)}}function o(t,r){this.fun=t,this.array=r}function s(){}var u,a=r.exports={},f=[],h=!1,c=-1;a.nextTick=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];f.push(new o(t,r)),1!==f.length||h||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=s,a.addListener=s,a.once=s,a.off=s,a.removeListener=s,a.removeAllListeners=s,a.emit=s,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],7:[function(t,r,n){function e(){var t=document.documentElement;return[t.clientWidth,t.clientHeight]}var i=t("canvas-fit"),o=t("raf-loop");r.exports=function(t,r){function n(){u();var r=t.width,n=t.height;f[0]=r/u.scale,f[1]=n/u.scale}if(!t)throw new TypeError("must specify a canvas element");r=r||{};var s=r.parent||e,u=i(t,s,r.scale),a=o(),f=[0,0];return n(),window.addEventListener("resize",function(){n(),a.emit("resize")},!1),Object.defineProperties(a,{scale:{get:function(){return u.scale},set:function(t){u.scale=t}},shape:{get:function(){return f}},parent:{get:function(){return u.parent},set:function(t){u.parent=t}}}),a}},{"canvas-fit":8,"raf-loop":10}],8:[function(t,r,n){function e(t,r,n){function e(){var r=e.parent||t.parentNode;if("function"==typeof r)var n=r(o)||o,u=n[0],a=n[1];else if(r&&r!==document.body)var f=i(r),u=0|f[0],a=0|f[1];else var u=window.innerWidth,a=window.innerHeight;return s?(t.setAttribute("width",u*e.scale+"px"),t.setAttribute("height",a*e.scale+"px")):(t.width=u*e.scale,t.height=a*e.scale),t.style.width=u+"px",t.style.height=a+"px",e}var s="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,e.scale=parseFloat(n||1),e.parent=r,e()}var i=t("element-size");r.exports=e;var o=new Float32Array(2)},{"element-size":9}],9:[function(t,r,n){function e(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var r=!0;document.body.appendChild(t)}var n=t.getBoundingClientRect(),e=getComputedStyle(t),o=(0|n.height)+i(e.getPropertyValue("margin-top"))+i(e.getPropertyValue("margin-bottom")),s=(0|n.width)+i(e.getPropertyValue("margin-left"))+i(e.getPropertyValue("margin-right"));return r&&document.body.removeChild(t),[s,o]}function i(t){return parseFloat(t)||0}r.exports=e},{}],10:[function(t,r,n){function e(t){return this instanceof e?(this.running=!1,this.last=s(),this._frame=0,this._tick=this.tick.bind(this),void(t&&this.on("tick",t))):new e(t)}var i=t("inherits"),o=t("events").EventEmitter,s=t("right-now"),u=t("raf");r.exports=e,i(e,o),e.prototype.start=function(){return this.running?void 0:(this.running=!0,this.last=s(),this._frame=u(this._tick),this)},e.prototype.stop=function(){return this.running=!1,0!==this._frame&&u.cancel(this._frame),this._frame=0,this},e.prototype.tick=function(){this._frame=u(this._tick);var t=s(),r=t-this.last;this.emit("tick",r),this.last=t}},{events:5,inherits:11,raf:12,"right-now":14}],11:[function(t,r,n){"function"==typeof Object.create?r.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],12:[function(t,r,n){for(var e=t("performance-now"),i="undefined"==typeof window?{}:window,o=["moz","webkit"],s="AnimationFrame",u=i["request"+s],a=i["cancel"+s]||i["cancelRequest"+s],f=0;f<o.length&&!u;f++)u=i[o[f]+"Request"+s],a=i[o[f]+"Cancel"+s]||i[o[f]+"CancelRequest"+s];if(!u||!a){var h=0,c=0,l=[],p=1e3/60;u=function(t){if(0===l.length){var r=e(),n=Math.max(0,p-(r-h));h=n+r,setTimeout(function(){var t=l.slice(0);l.length=0;for(var r=0;r<t.length;r++)if(!t[r].cancelled)try{t[r].callback(h)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return l.push({handle:++c,callback:t,cancelled:!1}),c},a=function(t){for(var r=0;r<l.length;r++)l[r].handle===t&&(l[r].cancelled=!0)}}r.exports=function(t){return u.call(i,t)},r.exports.cancel=function(){a.apply(i,arguments)}},{"performance-now":13}],13:[function(t,r,n){(function(t){(function(){var n,e,i;"undefined"!=typeof performance&&null!==performance&&performance.now?r.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(r.exports=function(){return(n()-i)/1e6},e=t.hrtime,n=function(){var t;return t=e(),1e9*t[0]+t[1]},i=n()):Date.now?(r.exports=function(){return Date.now()-i},i=Date.now()):(r.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:6}],14:[function(t,r,n){(function(t){r.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,r,n){r.exports=function(t,r,n,e,i){var o=r;for(e=0|e,i="number"==typeof i?0|i:n.length;i>e&&e<n.length;e++){var s=n[e],u=o[s[0]],a=o[s[1]],f=o[s[2]];t.moveTo(u[0],u[1]),t.lineTo(a[0],a[1]),t.lineTo(f[0],f[1]),t.lineTo(u[0],u[1])}}},{}],16:[function(t,r,n){function e(t){if("string"==typeof t&&(t=i(t)),!t||"function"!=typeof t.getElementsByTagName)throw new Error("could not get an XML document from the specified SVG contents");var r=Array.prototype.slice.call(t.getElementsByTagName("path"));return r.reduce(function(t,r){var n=r.getAttribute("d")||"";return t+" "+n.replace(/\s+/g," ").trim()},"").trim()}var i=t("xml-parse-from-string");r.exports=function(){throw new Error("use extract-svg-path/transform to inline SVG contents into your bundle")},r.exports.parse=e,r.exports.fromString=e},{"xml-parse-from-string":17}],17:[function(t,r,n){r.exports=function(){return"undefined"!=typeof window.DOMParser?function(t){var r=new window.DOMParser;return r.parseFromString(t,"application/xml")}:"undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(t){var r=new window.ActiveXObject("Microsoft.XMLDOM");return r.async="false",r.loadXML(t),r}:function(t){var r=document.createElement("div");return r.innerHTML=t,r}}()},{}],18:[function(t,r,n){var e=t("xhr");r.exports=function(t,r){"string"==typeof t&&(t={uri:t}),e(t,function(t,n,e){if(t)return r(t);if(!/^2/.test(n.statusCode))return r(new Error("http status code: "+n.statusCode));var i=document.createElement("div");
i.innerHTML=e;var o=i.querySelector("svg");return o?void r(null,o):r(new Error("svg not present in resource"))})}},{xhr:19}],19:[function(t,r,n){function e(t,r){function n(){4===d.readyState&&A()}function e(){var t=null;if(d.response?t=d.response:"text"!==d.responseType&&d.responseType||(t=d.responseText||d.responseXML),E)try{t=JSON.parse(t)}catch(r){}return t}function o(){return 1223===d.status?204:d.status}function c(t,r){var n=null;if(0===t||t>=400&&600>t){var e=("string"==typeof r?r:!1)||a[String(t).charAt(0)];n=new Error(e),n.statusCode=t}return n}function l(){var t=o(),n=e(),i=c(t,n),s={body:n,statusCode:t,statusText:d.statusText,raw:d};d.getAllResponseHeaders?s.headers=u(d.getAllResponseHeaders()):s.headers={},r(i,s,s.body)}function p(){var t=o(),n=c(t);d.status=d.statusCode=t,d.body=e(),d.headers=u(d.getAllResponseHeaders()),r(n,d,d.body)}function v(t){r(t,d)}"string"==typeof t&&(t={uri:t}),t=t||{},r=s(r);var d=t.xhr||null;d||(d=t.cors||t.useXDR?new h:new f);var g,m=d.url=t.uri||t.url,w=d.method=t.method||"GET",y=t.body||t.data,b=d.headers=t.headers||{},x=!!t.sync,E=!1,A=t.response?l:p;if("json"in t&&(E=!0,b.Accept="application/json","GET"!==w&&"HEAD"!==w&&(b["Content-Type"]="application/json",y=JSON.stringify(t.json))),d.onreadystatechange=n,d.onload=A,d.onerror=v,d.onprogress=function(){},d.ontimeout=i,d.open(w,m,!x),(t.withCredentials||t.cors&&t.withCredentials!==!1)&&(d.withCredentials=!0),x||(d.timeout="timeout"in t?t.timeout:5e3),d.setRequestHeader)for(g in b)b.hasOwnProperty(g)&&d.setRequestHeader(g,b[g]);else if(t.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(y),d}function i(){}var o=t("global/window"),s=t("once"),u=t("parse-headers"),a={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},f=o.XMLHttpRequest||i,h="withCredentials"in new f?f:o.XDomainRequest;r.exports=e},{"global/window":20,once:21,"parse-headers":25}],20:[function(t,r,n){(function(t){"undefined"!=typeof window?r.exports=window:"undefined"!=typeof t?r.exports=t:"undefined"!=typeof self?r.exports=self:r.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(t,r,n){function e(t){var r=!1;return function(){return r?void 0:(r=!0,t.apply(this,arguments))}}r.exports=e,e.proto=e(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return e(this)},configurable:!0})})},{}],22:[function(t,r,n){function e(t,r,n){if(!u(r))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===a.call(t)?i(t,r,n):"string"==typeof t?o(t,r,n):s(t,r,n)}function i(t,r,n){for(var e=0,i=t.length;i>e;e++)f.call(t,e)&&r.call(n,t[e],e,t)}function o(t,r,n){for(var e=0,i=t.length;i>e;e++)r.call(n,t.charAt(e),e,t)}function s(t,r,n){for(var e in t)f.call(t,e)&&r.call(n,t[e],e,t)}var u=t("is-function");r.exports=e;var a=Object.prototype.toString,f=Object.prototype.hasOwnProperty},{"is-function":23}],23:[function(t,r,n){function e(t){var r=i.call(t);return"[object Function]"===r||"function"==typeof t&&"[object RegExp]"!==r||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}r.exports=e;var i=Object.prototype.toString},{}],24:[function(t,r,n){function e(t){return t.replace(/^\s*|\s*$/g,"")}n=r.exports=e,n.left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],25:[function(t,r,n){var e=t("trim"),i=t("for-each"),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};r.exports=function(t){if(!t)return{};var r={};return i(e(t).split("\n"),function(t){var n=t.indexOf(":"),i=e(t.slice(0,n)).toLowerCase(),s=e(t.slice(n+1));"undefined"==typeof r[i]?r[i]=s:o(r[i])?r[i].push(s):r[i]=[r[i],s]}),r}},{"for-each":22,trim:24}],26:[function(t,r,n){function e(t){for(var r=[],n=[],e=0,i=0;e<t.length;)n.push([i++,i++,i++]),r.push([t[e++],t[e++],t[e++]],[t[e++],t[e++],t[e++]],[t[e++],t[e++],t[e++]]);return{positions:r,cells:n}}r.exports=e},{}],27:[function(t,r,n){function e(t,r){t=t||0;for(var n=new Array(t),e=0;t>e;e++)n[e]=r;return n}r.exports=e},{}],28:[function(t,r,n){"use strict";r.exports=function(t,r){if(void 0===r&&(r=t,t=0),"number"!=typeof t||"number"!=typeof r)throw new TypeError("Expected all arguments to be numbers");return Math.random()*(r-t)+t}},{}],29:[function(t,r,n){function e(t,r){if("string"!=typeof t)throw new TypeError("must provide a string as first parameter");r=v({delaunay:!0,clean:!0,exterior:!1,randomization:0,simplify:0,scale:1},r);var n,e=u(t),p=a(e,r.scale);if(r.simplify>0&&"number"==typeof r.simplify)for(n=0;n<p.length;n++)p[n]=d(p[n],r.simplify);var g=s(p),m=g.positions,w=c(m),y=r.randomization;"number"==typeof y&&y>0&&o(m,w,y);var b=g.edges,x=[];for(n=0;n<b.length;++n)for(var E=b[n],A=0;A<E.length;++A)x.push([E[A],E[(A+1)%E.length]]);r.clean!==!1&&h(m,x);var _=f(m,x,r);return l(m,w),i(m),{positions:m,cells:_}}function i(t){for(var r=0;r<t.length;r++){var n=t[r];n[1]*=-1,n[2]=n[2]||0}}function o(t,r,n){for(var e=r[0],i=r[1],o=0;n>o;o++)t.push([p(e[0],i[0]),p(e[1],i[1])])}function s(t){for(var r=[],n=[],e=0;e<t.length;e++){for(var i=t[e],o=[],s=0;s<i.length;s++){var u=i[s],a=r.indexOf(u);-1===a&&(r.push(u),a=r.length-1),o.push(a)}n.push(o)}return{positions:r,edges:n}}var u=t("parse-svg-path"),a=t("svg-path-contours"),f=t("cdt2d"),h=t("clean-pslg"),c=t("bound-points"),l=t("normalize-path-scale"),p=t("random-float"),v=t("object-assign"),d=t("simplify-path");r.exports=e},{"bound-points":30,cdt2d:31,"clean-pslg":49,"normalize-path-scale":95,"object-assign":97,"parse-svg-path":98,"random-float":99,"simplify-path":101,"svg-path-contours":103}],30:[function(t,r,n){"use strict";function e(t){var r=t.length;if(0===r)return[[],[]];for(var n=t[0].length,e=t[0].slice(),i=t[0].slice(),o=1;r>o;++o)for(var s=t[o],u=0;n>u;++u){var a=s[u];e[u]=Math.min(e[u],a),i[u]=Math.max(i[u],a)}return[e,i]}r.exports=e},{}],31:[function(t,r,n){"use strict";function e(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function i(t,r){return t[0]-r[0]||t[1]-r[1]}function o(t){return t.map(e).sort(i)}function s(t,r,n){return r in t?t[r]:n}function u(t,r,n){Array.isArray(r)?(n=n||{},r=r||[]):(n=r||{},r=[]);var e=!!s(n,"delaunay",!0),i=!!s(n,"interior",!0),u=!!s(n,"exterior",!0),l=!!s(n,"infinity",!1);if(!i&&!u||0===t.length)return[];var p=a(t,r);if(e||i!==u||l){for(var v=f(t.length,o(r)),d=0;d<p.length;++d){var g=p[d];v.addTriangle(g[0],g[1],g[2])}return e&&h(t,v),u?i?l?c(v,0,l):v.cells():c(v,1,l):c(v,-1)}return p}var a=t("./lib/monotone"),f=t("./lib/triangulation"),h=t("./lib/delaunay"),c=t("./lib/filter");r.exports=u},{"./lib/delaunay":32,"./lib/filter":33,"./lib/monotone":34,"./lib/triangulation":35}],32:[function(t,r,n){"use strict";function e(t,r,n,e,i,s){var u=r.opposite(e,i);if(!(0>u)){if(e>i){var a=e;e=i,i=a,a=s,s=u,u=a}r.isConstraint(e,i)||o(t[e],t[i],t[s],t[u])<0&&n.push(e,i)}}function i(t,r){for(var n=[],i=t.length,s=r.stars,u=0;i>u;++u)for(var a=s[u],f=1;f<a.length;f+=2){var h=a[f];if(!(u>h||r.isConstraint(u,h))){for(var c=a[f-1],l=-1,p=1;p<a.length;p+=2)if(a[p-1]===h){l=a[p];break}0>l||o(t[u],t[h],t[c],t[l])<0&&n.push(u,h)}}for(;n.length>0;){for(var h=n.pop(),u=n.pop(),c=-1,l=-1,a=s[u],v=1;v<a.length;v+=2){var d=a[v-1],g=a[v];d===h?l=g:g===h&&(c=d)}0>c||0>l||o(t[u],t[h],t[c],t[l])>=0||(r.flip(u,h),e(t,r,n,c,u,l),e(t,r,n,u,l,c),e(t,r,n,l,h,c),e(t,r,n,h,c,l))}}var o=t("robust-in-sphere")[4];t("binary-search-bounds");r.exports=i},{"binary-search-bounds":36,"robust-in-sphere":37}],33:[function(t,r,n){"use strict";function e(t,r,n,e,i,o,s){this.cells=t,this.neighbor=r,this.flags=e,this.constraint=n,this.active=i,this.next=o,this.boundary=s}function i(t,r){return t[0]-r[0]||t[1]-r[1]||t[2]-r[2]}function o(t,r){for(var n=t.cells(),o=n.length,s=0;o>s;++s){var u=n[s],a=u[0],f=u[1],h=u[2];h>f?a>f&&(u[0]=f,u[1]=h,u[2]=a):a>h&&(u[0]=h,u[1]=a,u[2]=f)}n.sort(i);for(var c=new Array(o),s=0;s<c.length;++s)c[s]=0;var l=[],p=[],v=new Array(3*o),d=new Array(3*o),g=null;r&&(g=[]);for(var m=new e(n,v,d,c,l,p,g),s=0;o>s;++s)for(var u=n[s],w=0;3>w;++w){var a=u[w],f=u[(w+1)%3],y=v[3*s+w]=m.locate(f,a,t.opposite(f,a)),b=d[3*s+w]=t.isConstraint(a,f);0>y&&(b?p.push(s):(l.push(s),c[s]=1),r&&g.push([f,a,-1]))}return m}function s(t,r,n){for(var e=0,i=0;i<t.length;++i)r[i]===n&&(t[e++]=t[i]);return t.length=e,t}function u(t,r,n){var e=o(t,n);if(0===r)return n?e.cells.concat(e.boundary):e.cells;for(var i=1,u=e.active,a=e.next,f=e.flags,h=e.cells,c=e.constraint,l=e.neighbor;u.length>0||a.length>0;){for(;u.length>0;){var p=u.pop();if(f[p]!==-i){f[p]=i;for(var v=(h[p],0);3>v;++v){var d=l[3*p+v];d>=0&&0===f[d]&&(c[3*p+v]?a.push(d):(u.push(d),f[d]=i))}}}var g=a;a=u,u=g,a.length=0,i=-i}var m=s(h,f,r);return n?m.concat(e.boundary):m}var a=t("binary-search-bounds");r.exports=u;var f=e.prototype;f.locate=function(){var t=[0,0,0];return function(r,n,e){var o=r,s=n,u=e;return e>n?r>n&&(o=n,s=e,u=r):r>e&&(o=e,s=r,u=n),0>o?-1:(t[0]=o,t[1]=s,t[2]=u,a.eq(this.cells,t,i))}}()},{"binary-search-bounds":36}],34:[function(t,r,n){"use strict";function e(t,r,n,e,i){this.a=t,this.b=r,this.idx=n,this.lowerIds=e,this.upperIds=i}function i(t,r,n,e){this.a=t,this.b=r,this.type=n,this.idx=e}function o(t,r){var n=t.a[0]-r.a[0]||t.a[1]-r.a[1]||t.type-r.type;return n?n:t.type!==v&&(n=p(t.a,t.b,r.b))?n:t.idx-r.idx}function s(t,r){return p(t.a,t.b,r)}function u(t,r,n,e,i){for(var o=l.lt(r,e,s),u=l.gt(r,e,s),a=o;u>a;++a){for(var f=r[a],h=f.lowerIds,c=h.length;c>1&&p(n[h[c-2]],n[h[c-1]],e)>0;)t.push([h[c-1],h[c-2],i]),c-=1;h.length=c,h.push(i);for(var v=f.upperIds,c=v.length;c>1&&p(n[v[c-2]],n[v[c-1]],e)<0;)t.push([v[c-2],v[c-1],i]),c-=1;v.length=c,v.push(i)}}function a(t,r){var n;return(n=t.a[0]<r.a[0]?p(t.a,t.b,r.a):p(r.b,r.a,t.a))?n:(n=r.b[0]<t.b[0]?p(t.a,t.b,r.b):p(r.b,r.a,t.b),n||t.idx-r.idx)}function f(t,r,n){var i=l.le(t,n,a),o=t[i],s=o.upperIds,u=s[s.length-1];o.upperIds=[u],t.splice(i+1,0,new e(n.a,n.b,n.idx,[u],s))}function h(t,r,n){var e=n.a;n.a=n.b,n.b=e;var i=l.eq(t,n,a),o=t[i],s=t[i-1];s.upperIds=o.upperIds,t.splice(i,1)}function c(t,r){for(var n=t.length,s=r.length,a=[],c=0;n>c;++c)a.push(new i(t[c],null,v,c));for(var c=0;s>c;++c){var l=r[c],p=t[l[0]],m=t[l[1]];p[0]<m[0]?a.push(new i(p,m,g,c),new i(m,p,d,c)):p[0]>m[0]&&a.push(new i(m,p,g,c),new i(p,m,d,c))}a.sort(o);for(var w=a[0].a[0]-(1+Math.abs(a[0].a[0]))*Math.pow(2,-52),y=[new e([w,1],[w,0],-1,[],[],[],[])],b=[],c=0,x=a.length;x>c;++c){var E=a[c],A=E.type;A===v?u(b,y,t,E.a,E.idx):A===g?f(y,t,E):h(y,t,E)}return b}var l=t("binary-search-bounds"),p=t("robust-orientation")[3],v=0,d=1,g=2;r.exports=c},{"binary-search-bounds":36,"robust-orientation":48}],35:[function(t,r,n){"use strict";function e(t,r){this.stars=t,this.edges=r}function i(t,r,n){for(var e=1,i=t.length;i>e;e+=2)if(t[e-1]===r&&t[e]===n)return t[e-1]=t[i-2],t[e]=t[i-1],void(t.length=i-2)}function o(t,r){for(var n=new Array(t),i=0;t>i;++i)n[i]=[];return new e(n,r)}var s=t("binary-search-bounds");r.exports=o;var u=e.prototype;u.isConstraint=function(){function t(t,r){return t[0]-r[0]||t[1]-r[1]}var r=[0,0];return function(n,e){return r[0]=Math.min(n,e),r[1]=Math.max(n,e),s.eq(this.edges,r,t)>=0}}(),u.removeTriangle=function(t,r,n){var e=this.stars;i(e[t],r,n),i(e[r],n,t),i(e[n],t,r)},u.addTriangle=function(t,r,n){var e=this.stars;e[t].push(r,n),e[r].push(n,t),e[n].push(t,r)},u.opposite=function(t,r){for(var n=this.stars[r],e=1,i=n.length;i>e;e+=2)if(n[e]===t)return n[e-1];return-1},u.flip=function(t,r){var n=this.opposite(t,r),e=this.opposite(r,t);this.removeTriangle(t,r,n),this.removeTriangle(r,t,e),this.addTriangle(t,e,n),this.addTriangle(r,n,e)},u.edges=function(){for(var t=this.stars,r=[],n=0,e=t.length;e>n;++n)for(var i=t[n],o=0,s=i.length;s>o;o+=2)r.push([i[o],i[o+1]]);return r},u.cells=function(){for(var t=this.stars,r=[],n=0,e=t.length;e>n;++n)for(var i=t[n],o=0,s=i.length;s>o;o+=2){var u=i[o],a=i[o+1];n<Math.min(u,a)&&r.push([n,u,a])}return r}},{"binary-search-bounds":36}],36:[function(t,r,n){"use strict";function e(t,r,n,e,i){var o=["function ",t,"(a,l,h,",e.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?r.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",r,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(t,r,n,i){var o=new Function([e("A","x"+t+"y",r,["y"],i),e("P","c(x,y)"+t+"0",r,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""));return o()}r.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},{}],37:[function(t,r,n){"use strict";function e(t,r){for(var n=new Array(t.length-1),e=1;e<t.length;++e)for(var i=n[e-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==r&&(i[s++]=t[e][o]);return n}function i(t){for(var r=new Array(t),n=0;t>n;++n){r[n]=new Array(t);for(var e=0;t>e;++e)r[n][e]=["m",e,"[",t-n-2,"]"].join("")}return r}function o(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var r=t.length>>1;return["sum(",o(t.slice(0,r)),",",o(t.slice(r)),")"].join("")}function s(t,r){if("m"===t.charAt(0)){if("w"===r.charAt(0)){var n=t.split("[");return["w",r.substr(1),"m",n[0].substr(1)].join("")}return["prod(",t,",",r,")"].join("")}return s(r,t)}function u(t){return t&!0?"-":""}function a(t){if(2===t.length)return[["diff(",s(t[0][0],t[1][1]),",",s(t[1][0],t[0][1]),")"].join("")];for(var r=[],n=0;n<t.length;++n)r.push(["scale(",o(a(e(t,n))),",",u(n),t[0][n],")"].join(""));return r}function f(t,r){for(var n=[],e=0;r-2>e;++e)n.push(["prod(m",t,"[",e,"],m",t,"[",e,"])"].join(""));return o(n)}function h(t){for(var r=[],n=[],s=i(t),u=0;t>u;++u)s[0][u]="1",s[t-1][u]="w"+u;for(var u=0;t>u;++u)0===(1&u)?r.push.apply(r,a(e(s,u))):n.push.apply(n,a(e(s,u)));for(var h=o(r),c=o(n),l="exactInSphere"+t,p=[],u=0;t>u;++u)p.push("m"+u);for(var v=["function ",l,"(",p.join(),"){"],u=0;t>u;++u){v.push("var w",u,"=",f(u,t),";");for(var d=0;t>d;++d)d!==u&&v.push("var w",u,"m",d,"=scale(w",u,",m",d,"[0]);")}v.push("var p=",h,",n=",c,",d=diff(p,n);return d[d.length-1];}return ",l);var b=new Function("sum","diff","prod","scale",v.join(""));return b(m,w,g,y)}function c(){return 0}function l(){return 0}function p(){return 0}function v(t){var r=x[t.length];return r||(r=x[t.length]=h(t.length)),r.apply(void 0,t)}function d(){for(;x.length<=b;)x.push(h(x.length));for(var t=[],n=["slow"],e=0;b>=e;++e)t.push("a"+e),n.push("o"+e);for(var i=["function testInSphere(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],e=2;b>=e;++e)i.push("case ",e,":return o",e,"(",t.slice(0,e).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(i.join(""));var o=Function.apply(void 0,n);r.exports=o.apply(void 0,[v].concat(x));for(var e=0;b>=e;++e)r.exports[e]=x[e]}var g=t("two-product"),m=t("robust-sum"),w=t("robust-subtract"),y=t("robust-scale"),b=6,x=[c,l,p];d()},{"robust-scale":39,"robust-subtract":40,"robust-sum":41,"two-product":42}],38:[function(t,r,n){"use strict";function e(t,r,n){var e=t+r,i=e-t,o=e-i,s=r-i,u=t-o;return n?(n[0]=u+s,n[1]=e,n):[u+s,e]}r.exports=e},{}],39:[function(t,r,n){"use strict";function e(t,r){var n=t.length;if(1===n){var e=i(t[0],r);return e[0]?e:[e[1]]}var s=new Array(2*n),u=[.1,.1],a=[.1,.1],f=0;i(t[0],r,u),u[0]&&(s[f++]=u[0]);for(var h=1;n>h;++h){i(t[h],r,a);var c=u[1];o(c,a[0],u),u[0]&&(s[f++]=u[0]);var l=a[1],p=u[1],v=l+p,d=v-l,g=p-d;u[1]=v,g&&(s[f++]=g)}return u[1]&&(s[f++]=u[1]),0===f&&(s[f++]=0),s.length=f,s}var i=t("two-product"),o=t("two-sum");r.exports=e},{"two-product":42,"two-sum":38}],40:[function(t,r,n){"use strict";function e(t,r){var n=t+r,e=n-t,i=n-e,o=r-e,s=t-i,u=s+o;return u?[u,n]:[n]}function i(t,r){var n=0|t.length,i=0|r.length;if(1===n&&1===i)return e(t[0],-r[0]);var o,s,u=n+i,a=new Array(u),f=0,h=0,c=0,l=Math.abs,p=t[h],v=l(p),d=-r[c],g=l(d);g>v?(s=p,h+=1,n>h&&(p=t[h],v=l(p))):(s=d,c+=1,i>c&&(d=-r[c],g=l(d))),n>h&&g>v||c>=i?(o=p,h+=1,n>h&&(p=t[h],v=l(p))):(o=d,c+=1,i>c&&(d=-r[c],g=l(d)));for(var m,w,y,b,x,E=o+s,A=E-o,_=s-A,M=_,I=E;n>h&&i>c;)g>v?(o=p,h+=1,n>h&&(p=t[h],v=l(p))):(o=d,c+=1,i>c&&(d=-r[c],g=l(d))),s=M,E=o+s,A=E-o,_=s-A,_&&(a[f++]=_),m=I+E,w=m-I,y=m-w,b=E-w,x=I-y,M=x+b,I=m;for(;n>h;)o=p,s=M,E=o+s,A=E-o,_=s-A,_&&(a[f++]=_),m=I+E,w=m-I,y=m-w,b=E-w,x=I-y,M=x+b,I=m,h+=1,n>h&&(p=t[h]);for(;i>c;)o=d,s=M,E=o+s,A=E-o,_=s-A,_&&(a[f++]=_),m=I+E,w=m-I,y=m-w,b=E-w,x=I-y,M=x+b,I=m,c+=1,i>c&&(d=-r[c]);return M&&(a[f++]=M),I&&(a[f++]=I),f||(a[f++]=0),a.length=f,a}r.exports=i},{}],41:[function(t,r,n){"use strict";function e(t,r){var n=t+r,e=n-t,i=n-e,o=r-e,s=t-i,u=s+o;return u?[u,n]:[n]}function i(t,r){var n=0|t.length,i=0|r.length;if(1===n&&1===i)return e(t[0],r[0]);var o,s,u=n+i,a=new Array(u),f=0,h=0,c=0,l=Math.abs,p=t[h],v=l(p),d=r[c],g=l(d);g>v?(s=p,h+=1,n>h&&(p=t[h],v=l(p))):(s=d,c+=1,i>c&&(d=r[c],g=l(d))),n>h&&g>v||c>=i?(o=p,h+=1,n>h&&(p=t[h],v=l(p))):(o=d,c+=1,i>c&&(d=r[c],g=l(d)));for(var m,w,y,b,x,E=o+s,A=E-o,_=s-A,M=_,I=E;n>h&&i>c;)g>v?(o=p,h+=1,n>h&&(p=t[h],v=l(p))):(o=d,c+=1,i>c&&(d=r[c],g=l(d))),s=M,E=o+s,A=E-o,_=s-A,_&&(a[f++]=_),m=I+E,w=m-I,y=m-w,b=E-w,x=I-y,M=x+b,I=m;for(;n>h;)o=p,s=M,E=o+s,A=E-o,_=s-A,_&&(a[f++]=_),m=I+E,w=m-I,y=m-w,b=E-w,x=I-y,M=x+b,I=m,h+=1,n>h&&(p=t[h]);for(;i>c;)o=d,s=M,E=o+s,A=E-o,_=s-A,_&&(a[f++]=_),m=I+E,w=m-I,y=m-w,b=E-w,x=I-y,M=x+b,I=m,c+=1,i>c&&(d=r[c]);return M&&(a[f++]=M),I&&(a[f++]=I),f||(a[f++]=0),a.length=f,a}r.exports=i},{}],42:[function(t,r,n){"use strict";function e(t,r,n){var e=t*r,o=i*t,s=o-t,u=o-s,a=t-u,f=i*r,h=f-r,c=f-h,l=r-c,p=e-u*c,v=p-a*c,d=v-u*l,g=a*l-d;return n?(n[0]=g,n[1]=e,n):[g,e]}r.exports=e;var i=+(Math.pow(2,27)+1)},{}],43:[function(t,r,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],44:[function(t,r,n){arguments[4][39][0].apply(n,arguments)},{dup:39,"two-product":47,"two-sum":43}],45:[function(t,r,n){arguments[4][40][0].apply(n,arguments)},{dup:40}],46:[function(t,r,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],47:[function(t,r,n){arguments[4][42][0].apply(n,arguments)},{dup:42}],48:[function(t,r,n){"use strict";function e(t,r){for(var n=new Array(t.length-1),e=1;e<t.length;++e)for(var i=n[e-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==r&&(i[s++]=t[e][o]);return n}function i(t){for(var r=new Array(t),n=0;t>n;++n){r[n]=new Array(t);for(var e=0;t>e;++e)r[n][e]=["m",e,"[",t-n-1,"]"].join("")}return r}function o(t){return 1&t?"-":""}function s(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var r=t.length>>1;return["sum(",s(t.slice(0,r)),",",s(t.slice(r)),")"].join("")}function u(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var r=[],n=0;n<t.length;++n)r.push(["scale(",s(u(e(t,n))),",",o(n),t[0][n],")"].join(""));return r}function a(t){for(var r=[],n=[],o=i(t),a=[],f=0;t>f;++f)0===(1&f)?r.push.apply(r,u(e(o,f))):n.push.apply(n,u(e(o,f))),a.push("m"+f);var h=s(r),d=s(n),g="orientation"+t+"Exact",m=["function ",g,"(",a.join(),"){var p=",h,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",g].join(""),w=new Function("sum","prod","scale","sub",m);return w(l,c,p,v)}function f(t){var r=x[t.length];return r||(r=x[t.length]=a(t.length)),r.apply(void 0,t)}function h(){for(;x.length<=d;)x.push(a(x.length));for(var t=[],n=["slow"],e=0;d>=e;++e)t.push("a"+e),n.push("o"+e);for(var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],e=2;d>=e;++e)i.push("case ",e,":return o",e,"(",t.slice(0,e).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);r.exports=o.apply(void 0,[f].concat(x));for(var e=0;d>=e;++e)r.exports[e]=x[e]}var c=t("two-product"),l=t("robust-sum"),p=t("robust-scale"),v=t("robust-subtract"),d=5,g=1.1102230246251565e-16,m=(3+16*g)*g,w=(7+56*g)*g,y=a(3),b=a(4),x=[function(){return 0},function(){return 0},function(t,r){return r[0]-t[0]},function(t,r,n){var e,i=(t[1]-n[1])*(r[0]-n[0]),o=(t[0]-n[0])*(r[1]-n[1]),s=i-o;if(i>0){if(0>=o)return s;e=i+o}else{if(!(0>i))return s;if(o>=0)return s;e=-(i+o)}var u=m*e;return s>=u||-u>=s?s:y(t,r,n)},function(t,r,n,e){var i=t[0]-e[0],o=r[0]-e[0],s=n[0]-e[0],u=t[1]-e[1],a=r[1]-e[1],f=n[1]-e[1],h=t[2]-e[2],c=r[2]-e[2],l=n[2]-e[2],p=o*f,v=s*a,d=s*u,g=i*f,m=i*a,y=o*u,x=h*(p-v)+c*(d-g)+l*(m-y),E=(Math.abs(p)+Math.abs(v))*Math.abs(h)+(Math.abs(d)+Math.abs(g))*Math.abs(c)+(Math.abs(m)+Math.abs(y))*Math.abs(l),A=w*E;return x>A||-x>A?x:b(t,r,n,e)}];h()},{"robust-scale":44,"robust-subtract":45,"robust-sum":46,"two-product":47}],49:[function(t,r,n){"use strict";function e(t){var r=b(t),n=y(w(r),t);return 0>n?[r,E(r,1/0)]:n>0?[E(r,-(1/0)),r]:[r,r]}function i(t,r){for(var n=new Array(r.length),e=0;e<r.length;++e){var i=r[e],o=t[i[0]],s=t[i[1]];n[e]=[Math.min(o[0],s[0]),Math.min(o[1],s[1]),Math.max(o[0],s[0]),Math.max(o[1],s[1])]}return n}function o(t){for(var r=new Array(t.length),n=0;n<t.length;++n){var e=t[n];r[n]=[e[0],e[1],e[0],e[1]]}return r}function s(t,r,n){var e=[];return g(n,function(n,i){var o=r[n],s=r[i];if(o[0]!==s[0]&&o[0]!==s[1]&&o[1]!==s[0]&&o[1]!==s[1]){var u=t[o[0]],a=t[o[1]],f=t[s[0]],h=t[s[1]];m(u,a,f,h)&&e.push([n,i])}}),e}function u(t,r,n,e){var i=[];return g(n,e,function(n,e){var o=r[n];if(o[0]!==e&&o[1]!==e){var s=t[e],u=t[o[0]],a=t[o[1]];m(u,a,s,s)&&i.push([n,e])}}),i}function a(t,r,n,e,i){function o(r){if(r>=t.length)return s[r-t.length];var n=t[r];return[w(n[0]),w(n[1])]}for(var s=[],u=0;u<n.length;++u){var a=n[u],f=a[0],h=a[1],c=r[f],l=r[h],p=A(x(t[c[0]]),x(t[c[1]]),x(t[l[0]]),x(t[l[1]]));if(p){var v=s.length+t.length;s.push(p),e.push([f,v],[h,v])}}e.sort(function(t,r){if(t[0]!==r[0])return t[0]-r[0];var n=o(t[1]),e=o(r[1]);return y(n[0],e[0])||y(n[1],e[1])});for(var u=e.length-1;u>=0;--u){var d=e[u],f=d[0],g=r[f],m=g[0],b=g[1],E=t[m],_=t[b];if((E[0]-_[0]||E[1]-_[1])<0){var M=m;m=b,b=M}g[0]=m;var I,T=g[1]=d[1];for(i&&(I=g[2]);u>0&&e[u-1][0]===f;){var d=e[--u],L=d[1];i?r.push([T,L,I]):r.push([T,L]),T=L}i?r.push([T,b,I]):r.push([T,b])}return s}function f(t,r,n){for(var i=t.length+r.length,o=new d(i),s=n,u=0;u<r.length;++u){var a=r[u],f=e(a[0]),h=e(a[1]);s.push([f[0],h[0],f[1],h[1]]),t.push([b(a[0]),b(a[1])])}g(s,function(t,r){o.link(t,r)});for(var c=0,l=!0,p=new Array(i),u=0;i>u;++u){var v=o.find(u);v===u?(p[u]=c,t[c++]=t[u]):(l=!1,p[u]=-1)}if(t.length=c,l)return null;for(var u=0;i>u;++u)p[u]<0&&(p[u]=p[o.find(u)]);return p}function h(t,r){return t[0]-r[0]||t[1]-r[1]}function c(t,r){var n=t[0]-r[0]||t[1]-r[1];return n?n:t[2]<r[2]?-1:t[2]>r[2]?1:0}function l(t,r,n){if(0!==t.length){if(r)for(var e=0;e<t.length;++e){var i=t[e],o=r[i[0]],s=r[i[1]];i[0]=Math.min(o,s),i[1]=Math.max(o,s)}else for(var e=0;e<t.length;++e){var i=t[e],o=i[0],s=i[1];i[0]=Math.min(o,s),i[1]=Math.max(o,s)}n?t.sort(c):t.sort(h);for(var u=1,e=1;e<t.length;++e){var a=t[e-1],f=t[e];(f[0]!==a[0]||f[1]!==a[1]||n&&f[2]!==a[2])&&(t[u++]=f)}t.length=u}}function p(t,r,n){var e=i(t,r),h=s(t,r,e),c=o(t),p=u(t,r,e,c),v=a(t,r,h,p,n),d=f(t,v,c);return l(r,d,n),d?!0:h.length>0||p.length>0}function v(t,r,n){var e,i=!1;if(n){e=r;for(var o=new Array(r.length),s=0;s<r.length;++s){var u=r[s];o[s]=[u[0],u[1],n[s]]}r=o}for(;p(t,r,!!n);)i=!0;if(n&&i){e.length=0,n.length=0;for(var s=0;s<r.length;++s){var u=r[s];e.push([u[0],u[1]]),n.push(u[2])}}return i}r.exports=v;var d=t("union-find"),g=t("box-intersect"),m=(t("compare-cell"),t("robust-segment-intersect")),w=t("big-rat"),y=t("big-rat/cmp"),b=t("big-rat/to-float"),x=t("rat-vec"),E=t("nextafter"),A=t("./lib/rat-seg-intersect")},{"./lib/rat-seg-intersect":50,"big-rat":54,"big-rat/cmp":52,"big-rat/to-float":69,"box-intersect":70,"compare-cell":80,nextafter:81,"rat-vec":84,"robust-segment-intersect":93,"union-find":94}],50:[function(t,r,n){"use strict";function e(t,r){return u(o(t[0],r[1]),o(t[1],r[0]))}function i(t,r,n,i){var o=f(r,t),u=f(i,n),l=e(o,u);if(0===a(l))return null;var p=f(t,n),v=e(u,p),d=s(v,l);return h(t,c(o,d))}r.exports=i;var o=t("big-rat/mul"),s=t("big-rat/div"),u=t("big-rat/sub"),a=t("big-rat/sign"),f=t("rat-vec/sub"),h=t("rat-vec/add"),c=t("rat-vec/muls");t("big-rat/to-float")},{"big-rat/div":53,"big-rat/mul":63,"big-rat/sign":67,"big-rat/sub":68,"big-rat/to-float":69,"rat-vec/add":83,"rat-vec/muls":85,"rat-vec/sub":86}],51:[function(t,r,n){"use strict";function e(t,r){return i(t[0].mul(r[1]).add(r[0].mul(t[1])),t[1].mul(r[1]))}var i=t("./lib/rationalize");r.exports=e},{"./lib/rationalize":61}],52:[function(t,r,n){"use strict";function e(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}r.exports=e},{}],53:[function(t,r,n){"use strict";function e(t,r){return i(t[0].mul(r[1]),t[1].mul(r[0]))}var i=t("./lib/rationalize");r.exports=e},{"./lib/rationalize":61}],54:[function(t,r,n){"use strict";function e(t,r){if(i(t))return r?f(t,e(r)):[t[0].clone(),t[1].clone()];var n,h,c=0;if(o(t))n=t.clone();else if("string"==typeof t)n=u(t);else{if(0===t)return[s(0),s(1)];if(t===Math.floor(t))n=s(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),c-=256;n=s(t)}}if(i(r))n.mul(r[1]),h=r[0].clone();else if(o(r))h=r.clone();else if("string"==typeof r)h=u(r);else if(r)if(r===Math.floor(r))h=s(r);else{for(;r!==Math.floor(r);)r*=Math.pow(2,256),c+=256;h=s(r)}else h=s(1);return c>0?n=n.shln(c):0>c&&(h=h.shln(-c)),a(n,h)}var i=t("./is-rat"),o=t("./lib/is-bn"),s=t("./lib/num-to-bn"),u=t("./lib/str-to-bn"),a=t("./lib/rationalize"),f=t("./div");r.exports=e},{"./div":53,"./is-rat":55,"./lib/is-bn":59,"./lib/num-to-bn":60,"./lib/rationalize":61,"./lib/str-to-bn":62}],55:[function(t,r,n){"use strict";function e(t){return Array.isArray(t)&&2===t.length&&i(t[0])&&i(t[1])}var i=t("./lib/is-bn");r.exports=e},{"./lib/is-bn":59}],56:[function(t,r,n){"use strict";function e(t){return t.cmp(new i(0))}var i=t("bn.js");r.exports=e},{"bn.js":65}],57:[function(t,r,n){"use strict";function e(t){var r=t.length,n=t.words,e=0;if(1===r)e=n[0];else if(2===r)e=n[0]+67108864*n[1];else for(var e=0,i=0;r>i;i++){var o=n[i];e+=o*Math.pow(67108864,i)}return t.sign?-e:e}r.exports=e},{}],58:[function(t,r,n){"use strict";function e(t){var r=o(i.lo(t));if(32>r)return r;var n=o(i.hi(t));return n>20?52:n+32}var i=t("double-bits"),o=t("bit-twiddle").countTrailingZeros;r.exports=e},{"bit-twiddle":64,"double-bits":66}],59:[function(t,r,n){"use strict";function e(t){return t&&"object"==typeof t&&Boolean(t.words)}t("bn.js");r.exports=e},{"bn.js":65}],60:[function(t,r,n){"use strict";function e(t){var r=o.exponent(t);return 52>r?new i(t):new i(t*Math.pow(2,52-r)).shln(r-52)}var i=t("bn.js"),o=t("double-bits");r.exports=e},{"bn.js":65,"double-bits":66}],61:[function(t,r,n){"use strict";function e(t,r){var n=o(t),e=o(r);if(0===n)return[i(0),i(1)];if(0===e)return[i(0),i(0)];0>e&&(t=t.neg(),r=r.neg());var s=t.gcd(r);return s.cmpn(1)?[t.div(s),r.div(s)]:[t,r]}var i=t("./num-to-bn"),o=t("./bn-sign");r.exports=e},{"./bn-sign":56,"./num-to-bn":60}],62:[function(t,r,n){"use strict";function e(t){return new i(t)}var i=t("bn.js");r.exports=e},{"bn.js":65}],63:[function(t,r,n){"use strict";function e(t,r){return i(t[0].mul(r[0]),t[1].mul(r[1]))}var i=t("./lib/rationalize");r.exports=e},{"./lib/rationalize":61}],64:[function(t,r,n){"use strict";"use restrict";function e(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}var i=32;n.INT_BITS=i,n.INT_MAX=2147483647,n.INT_MIN=-1<<i-1,n.sign=function(t){return(t>0)-(0>t)},n.abs=function(t){var r=t>>i-1;return(t^r)-r},n.min=function(t,r){return r^(t^r)&-(r>t)},n.max=function(t,r){return t^(t^r)&-(r>t)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var r,n;return r=(t>65535)<<4,t>>>=r,n=(t>255)<<3,t>>>=n,r|=n,n=(t>15)<<2,t>>>=n,r|=n,n=(t>3)<<1,t>>>=n,r|=n,r|t>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},n.countTrailingZeros=e,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var r=0;256>r;++r){var n=r,e=r,i=7;for(n>>>=1;n;n>>>=1)e<<=1,e|=1&n,--i;t[r]=e<<i&255}}(o),n.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},n.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},n.deinterleave2=function(t,r){return t=t>>>r&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},n.interleave3=function(t,r,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},n.deinterleave3=function(t,r){return t=t>>>r&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},n.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>e(t)+1}},{}],65:[function(t,r,n){!function(t,r){"use strict";function n(t,r){if(!t)throw new Error(r||"Assertion failed")}function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}function i(t,r,n){return null!==t&&"object"==typeof t&&Array.isArray(t.words)?t:(this.sign=!1,this.words=null,this.length=0,this.red=null,("le"===r||"be"===r)&&(n=r,r=10),void(null!==t&&this._init(t||0,r||10,n||"be")))}function o(t,r,n){for(var e=0,i=Math.min(t.length,n),o=r;i>o;o++){var s=t.charCodeAt(o)-48;e<<=4,e|=s>=49&&54>=s?s-49+10:s>=17&&22>=s?s-17+10:15&s}return e}function s(t,r,n,e){for(var i=0,o=Math.min(t.length,n),s=r;o>s;s++){var u=t.charCodeAt(s)-48;i*=e,i+=u>=49?u-49+10:u>=17?u-17+10:u}return i}function u(t,r){this.name=t,this.p=new i(r,16),this.n=this.p.bitLength(),this.k=new i(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function a(){u.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function f(){u.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function h(){u.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function c(){u.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function l(t){if("string"==typeof t){var r=i._prime(t);this.m=r.p,this.prime=r}else this.m=t,this.prime=null}function p(t){l.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}"object"==typeof t?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26,i.prototype._init=function(t,r,e){if("number"==typeof t)return this._initNumber(t,r,e);if("object"==typeof t)return this._initArray(t,r,e);"hex"===r&&(r=16),n(r===(0|r)&&r>=2&&36>=r),t=t.toString().replace(/\s+/g,"");
var i=0;"-"===t[0]&&i++,16===r?this._parseHex(t,i):this._parseBase(t,r,i),"-"===t[0]&&(this.sign=!0),this.strip(),"le"===e&&this._initArray(this.toArray(),r,e)},i.prototype._initNumber=function(t,r,e){0>t&&(this.sign=!0,t=-t),67108864>t?(this.words=[67108863&t],this.length=1):4503599627370496>t?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(9007199254740992>t),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===e&&this._initArray(this.toArray(),r,e)},i.prototype._initArray=function(t,r,e){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o=0;if("be"===e)for(var i=t.length-1,s=0;i>=0;i-=3){var u=t[i]|t[i-1]<<8|t[i-2]<<16;this.words[s]|=u<<o&67108863,this.words[s+1]=u>>>26-o&67108863,o+=24,o>=26&&(o-=26,s++)}else if("le"===e)for(var i=0,s=0;i<t.length;i+=3){var u=t[i]|t[i+1]<<8|t[i+2]<<16;this.words[s]|=u<<o&67108863,this.words[s+1]=u>>>26-o&67108863,o+=24,o>=26&&(o-=26,s++)}return this.strip()},i.prototype._parseHex=function(t,r){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;for(var e=0,n=t.length-6,i=0;n>=r;n-=6){var s=o(t,n,n+6);this.words[i]|=s<<e&67108863,this.words[i+1]|=s>>>26-e&4194303,e+=24,e>=26&&(e-=26,i++)}if(n+6!==r){var s=o(t,r,n+6);this.words[i]|=s<<e&67108863,this.words[i+1]|=s>>>26-e&4194303}this.strip()},i.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var e=0,i=1;67108863>=i;i*=r)e++;e--,i=i/r|0;for(var o=t.length-n,u=o%e,a=Math.min(o,o-u)+n,f=0,h=n;a>h;h+=e)f=s(t,h,h+e,r),this.imuln(i),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==u){for(var c=1,f=s(t,h,t.length,r),h=0;u>h;h++)c*=r;this.imuln(c),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.sign=this.sign,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,r){if(t=t||10,16===t||"hex"===t){for(var e="",i=0,r=0|r||1,o=0,s=0;s<this.length;s++){var u=this.words[s],a=(16777215&(u<<i|o)).toString(16);o=u>>>24-i&16777215,e=0!==o||s!==this.length-1?v[6-a.length]+a+e:a+e,i+=2,i>=26&&(i-=26,s--)}for(0!==o&&(e=o.toString(16)+e);e.length%r!==0;)e="0"+e;return this.sign&&(e="-"+e),e}if(t===(0|t)&&t>=2&&36>=t){var f=d[t],h=g[t],e="",c=this.clone();for(c.sign=!1;0!==c.cmpn(0);){var l=c.modn(h).toString(t);c=c.idivn(h),e=0!==c.cmpn(0)?v[f-l.length]+l+e:l+e}return 0===this.cmpn(0)&&(e="0"+e),this.sign&&(e="-"+e),e}n(!1,"Base should be between 2 and 36")},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toArray=function(t){this.strip();var r=new Array(this.byteLength());r[0]=0;var n=this.clone();if("le"!==t)for(var e=0;0!==n.cmpn(0);e++){var i=n.andln(255);n.ishrn(8),r[r.length-e-1]=i}else for(var e=0;0!==n.cmpn(0);e++){var i=n.andln(255);n.ishrn(8),r[e]=i}return r},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},i.prototype._zeroBits=function(t){if(0===t)return 26;var r=t,n=0;return 0===(8191&r)&&(n+=13,r>>>=13),0===(127&r)&&(n+=7,r>>>=7),0===(15&r)&&(n+=4,r>>>=4),0===(3&r)&&(n+=2,r>>>=2),0===(1&r)&&n++,n},i.prototype.bitLength=function(){var t=0,r=this.words[this.length-1],t=this._countBits(r);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,26!==n)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var t=this.clone();return t.sign=!this.sign,t},i.prototype.ior=function(t){for(this.sign=this.sign||t.sign;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.iand=function(t){this.sign=this.sign&&t.sign;var r;r=this.length>t.length?t:this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.ixor=function(t){this.sign=this.sign||t.sign;var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var e=0;e<n.length;e++)this.words[e]=r.words[e]^n.words[e];if(this!==r)for(;e<r.length;e++)this.words[e]=r.words[e];return this.length=r.length,this.strip()},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.setn=function(t,r){n("number"==typeof t&&t>=0);for(var e=t/26|0,i=t%26;this.length<=e;)this.words[this.length++]=0;return r?this.words[e]=this.words[e]|1<<i:this.words[e]=this.words[e]&~(1<<i),this.strip()},i.prototype.iadd=function(t){if(this.sign&&!t.sign){this.sign=!1;var r=this.isub(t);return this.sign=!this.sign,this._normSign()}if(!this.sign&&t.sign){t.sign=!1;var r=this.isub(t);return t.sign=!0,r._normSign()}var n,e;this.length>t.length?(n=this,e=t):(n=t,e=this);for(var i=0,o=0;o<e.length;o++){var r=n.words[o]+e.words[o]+i;this.words[o]=67108863&r,i=r>>>26}for(;0!==i&&o<n.length;o++){var r=n.words[o]+i;this.words[o]=67108863&r,i=r>>>26}if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},i.prototype.add=function(t){if(t.sign&&!this.sign){t.sign=!1;var r=this.sub(t);return t.sign=!0,r}if(!t.sign&&this.sign){this.sign=!1;var r=t.sub(this);return this.sign=!0,r}return this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.sign){t.sign=!1;var r=this.iadd(t);return t.sign=!0,r._normSign()}if(this.sign)return this.sign=!1,this.iadd(t),this.sign=!0,this._normSign();var n=this.cmp(t);if(0===n)return this.sign=!1,this.length=1,this.words[0]=0,this;var e,i;n>0?(e=this,i=t):(e=t,i=this);for(var o=0,s=0;s<i.length;s++){var r=e.words[s]-i.words[s]+o;o=r>>26,this.words[s]=67108863&r}for(;0!==o&&s<e.length;s++){var r=e.words[s]+o;o=r>>26,this.words[s]=67108863&r}if(0===o&&s<e.length&&e!==this)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=Math.max(this.length,s),e!==this&&(this.sign=!0),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)},i.prototype._smallMulTo=function(t,r){r.sign=t.sign!==this.sign,r.length=this.length+t.length;for(var n=0,e=0;e<r.length-1;e++){for(var i=n>>>26,o=67108863&n,s=Math.min(e,t.length-1),u=Math.max(0,e-this.length+1);s>=u;u++){var a=e-u,f=0|this.words[a],h=0|t.words[u],c=f*h,l=67108863&c;i=i+(c/67108864|0)|0,l=l+o|0,o=67108863&l,i=i+(l>>>26)|0}r.words[e]=o,n=i}return 0!==n?r.words[e]=n:r.length--,r.strip()},i.prototype._bigMulTo=function(t,r){r.sign=t.sign!==this.sign,r.length=this.length+t.length;for(var n=0,e=0,i=0;i<r.length-1;i++){var o=e;e=0;for(var s=67108863&n,u=Math.min(i,t.length-1),a=Math.max(0,i-this.length+1);u>=a;a++){var f=i-a,h=0|this.words[f],c=0|t.words[a],l=h*c,p=67108863&l;o=o+(l/67108864|0)|0,p=p+s|0,s=67108863&p,o=o+(p>>>26)|0,e+=o>>>26,o&=67108863}r.words[i]=s,n=o,o=e}return 0!==n?r.words[i]=n:r.length--,r.strip()},i.prototype.mulTo=function(t,r){var n;return n=this.length+t.length<63?this._smallMulTo(t,r):this._bigMulTo(t,r)},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.imul=function(t){if(0===this.cmpn(0)||0===t.cmpn(0))return this.words[0]=0,this.length=1,this;var r=this.length,n=t.length;this.sign=t.sign!==this.sign,this.length=this.length+t.length,this.words[this.length-1]=0;for(var e=this.length-2;e>=0;e--){for(var i=0,o=0,s=Math.min(e,n-1),u=Math.max(0,e-r+1);s>=u;u++){var a=e-u,f=this.words[a],h=t.words[u],c=f*h,l=67108863&c;i+=c/67108864|0,l+=o,o=67108863&l,i+=l>>>26}this.words[e]=o,this.words[e+1]+=i,i=0}for(var i=0,a=1;a<this.length;a++){var p=this.words[a]+i;this.words[a]=67108863&p,i=p>>>26}return this.strip()},i.prototype.imuln=function(t){n("number"==typeof t);for(var r=0,e=0;e<this.length;e++){var i=this.words[e]*t,o=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=o>>>26,this.words[e]=67108863&o}return 0!==r&&(this.words[e]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.mul(this)},i.prototype.ishln=function(t){n("number"==typeof t&&t>=0);var r=t%26,e=(t-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){for(var o=0,s=0;s<this.length;s++){var u=this.words[s]&i,a=this.words[s]-u<<r;this.words[s]=a|o,o=u>>>26-r}o&&(this.words[s]=o,this.length++)}if(0!==e){for(var s=this.length-1;s>=0;s--)this.words[s+e]=this.words[s];for(var s=0;e>s;s++)this.words[s]=0;this.length+=e}return this.strip()},i.prototype.ishrn=function(t,r,e){n("number"==typeof t&&t>=0);var i;i=r?(r-r%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),u=67108863^67108863>>>o<<o,a=e;if(i-=s,i=Math.max(0,i),a){for(var f=0;s>f;f++)a.words[f]=this.words[f];a.length=s}if(0===s);else if(this.length>s){this.length-=s;for(var f=0;f<this.length;f++)this.words[f]=this.words[f+s]}else this.words[0]=0,this.length=1;for(var h=0,f=this.length-1;f>=0&&(0!==h||f>=i);f--){var c=this.words[f];this.words[f]=h<<26-o|c>>>o,h=c&u}return a&&0!==h&&(a.words[a.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.testn=function(t){n("number"==typeof t&&t>=0);var r=t%26,e=(t-r)/26,i=1<<r;if(this.length<=e)return!1;var o=this.words[e];return!!(o&i)},i.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var r=t%26,e=(t-r)/26;if(n(!this.sign,"imaskn works only with positive numbers"),0!==r&&e++,this.length=Math.min(e,this.length),0!==r){var i=67108863^67108863>>>r<<r;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return n("number"==typeof t),0>t?this.isubn(-t):this.sign?1===this.length&&this.words[0]<t?(this.words[0]=t-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(t),this.sign=!0,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(n("number"==typeof t),0>t)return this.iaddn(-t);if(this.sign)return this.sign=!1,this.iaddn(t),this.sign=!0,this;this.words[0]-=t;for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.sign=!1,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,e){var i,o=t.length+e;if(this.words.length<o){for(var s=new Array(o),i=0;i<this.length;i++)s[i]=this.words[i];this.words=s}else i=this.length;for(this.length=Math.max(this.length,o);i<this.length;i++)this.words[i]=0;for(var u=0,i=0;i<t.length;i++){var a=this.words[i+e]+u,f=t.words[i]*r;a-=67108863&f,u=(a>>26)-(f/67108864|0),this.words[i+e]=67108863&a}for(;i<this.length-e;i++){var a=this.words[i+e]+u;u=a>>26,this.words[i+e]=67108863&a}if(0===u)return this.strip();n(-1===u),u=0;for(var i=0;i<this.length;i++){var a=-this.words[i]+u;u=a>>26,this.words[i]=67108863&a}return this.sign=!0,this.strip()},i.prototype._wordDiv=function(t,r){var n=this.length-t.length,e=this.clone(),o=t,s=o.words[o.length-1],u=this._countBits(s);n=26-u,0!==n&&(o=o.shln(n),e.ishln(n),s=o.words[o.length-1]);var a,f=e.length-o.length;if("mod"!==r){a=new i(null),a.length=f+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=e.clone()._ishlnsubmul(o,1,f);c.sign||(e=c,a&&(a.words[f]=1));for(var l=f-1;l>=0;l--){var p=67108864*e.words[o.length+l]+e.words[o.length+l-1];for(p=Math.min(p/s|0,67108863),e._ishlnsubmul(o,p,l);e.sign;)p--,e.sign=!1,e._ishlnsubmul(o,1,l),0!==e.cmpn(0)&&(e.sign=!e.sign);a&&(a.words[l]=p)}return a&&a.strip(),e.strip(),"div"!==r&&0!==n&&e.ishrn(n),{div:a?a:null,mod:e}},i.prototype.divmod=function(t,r){if(n(0!==t.cmpn(0)),this.sign&&!t.sign){var e,o,s=this.neg().divmod(t,r);return"mod"!==r&&(e=s.div.neg()),"div"!==r&&(o=0===s.mod.cmpn(0)?s.mod:t.sub(s.mod)),{div:e,mod:o}}if(!this.sign&&t.sign){var e,s=this.divmod(t.neg(),r);return"mod"!==r&&(e=s.div.neg()),{div:e,mod:s.mod}}return this.sign&&t.sign?this.neg().divmod(t.neg(),r):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===r?{div:this.divn(t.words[0]),mod:null}:"mod"===r?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r)},i.prototype.div=function(t){return this.divmod(t,"div").div},i.prototype.mod=function(t){return this.divmod(t,"mod").mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(0===r.mod.cmpn(0))return r.div;var n=r.div.sign?r.mod.isub(t):r.mod,e=t.shrn(1),i=t.andln(1),o=n.cmp(e);return 0>o||1===i&&0===o?r.div:r.div.sign?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){n(67108863>=t);for(var r=(1<<26)%t,e=0,i=this.length-1;i>=0;i--)e=(r*e+this.words[i])%t;return e},i.prototype.idivn=function(t){n(67108863>=t);for(var r=0,e=this.length-1;e>=0;e--){var i=this.words[e]+67108864*r;this.words[e]=i/t|0,r=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){n(!t.sign),n(0!==t.cmpn(0));var r=this,e=t.clone();r=r.sign?r.mod(t):r.clone();for(var o=new i(1),s=new i(0),u=new i(0),a=new i(1),f=0;r.isEven()&&e.isEven();)r.ishrn(1),e.ishrn(1),++f;for(var h=e.clone(),c=r.clone();0!==r.cmpn(0);){for(;r.isEven();)r.ishrn(1),o.isEven()&&s.isEven()?(o.ishrn(1),s.ishrn(1)):(o.iadd(h).ishrn(1),s.isub(c).ishrn(1));for(;e.isEven();)e.ishrn(1),u.isEven()&&a.isEven()?(u.ishrn(1),a.ishrn(1)):(u.iadd(h).ishrn(1),a.isub(c).ishrn(1));r.cmp(e)>=0?(r.isub(e),o.isub(u),s.isub(a)):(e.isub(r),u.isub(o),a.isub(s))}return{a:u,b:a,gcd:e.ishln(f)}},i.prototype._invmp=function(t){n(!t.sign),n(0!==t.cmpn(0));var r=this,e=t.clone();r=r.sign?r.mod(t):r.clone();for(var o=new i(1),s=new i(0),u=e.clone();r.cmpn(1)>0&&e.cmpn(1)>0;){for(;r.isEven();)r.ishrn(1),o.isEven()?o.ishrn(1):o.iadd(u).ishrn(1);for(;e.isEven();)e.ishrn(1),s.isEven()?s.ishrn(1):s.iadd(u).ishrn(1);r.cmp(e)>=0?(r.isub(e),o.isub(s)):(e.isub(r),s.isub(o))}return 0===r.cmpn(1)?o:s},i.prototype.gcd=function(t){if(0===this.cmpn(0))return t.clone();if(0===t.cmpn(0))return this.clone();var r=this.clone(),n=t.clone();r.sign=!1,n.sign=!1;for(var e=0;r.isEven()&&n.isEven();e++)r.ishrn(1),n.ishrn(1);for(;;){for(;r.isEven();)r.ishrn(1);for(;n.isEven();)n.ishrn(1);var i=r.cmp(n);if(0>i){var o=r;r=n,n=o}else if(0===i||0===n.cmpn(1))break;r.isub(n)}return n.ishln(e)},i.prototype.invm=function(t){return this.egcd(t).a.mod(t)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){n("number"==typeof t);var r=t%26,e=(t-r)/26,i=1<<r;if(this.length<=e){for(var o=this.length;e+1>o;o++)this.words[o]=0;return this.words[e]|=i,this.length=e+1,this}for(var s=i,o=e;0!==s&&o<this.length;o++){var u=this.words[o];u+=s,s=u>>>26,u&=67108863,this.words[o]=u}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.cmpn=function(t){var r=0>t;if(r&&(t=-t),this.sign&&!r)return-1;if(!this.sign&&r)return 1;t&=67108863,this.strip();var n;if(this.length>1)n=1;else{var e=this.words[0];n=e===t?0:t>e?-1:1}return this.sign&&(n=-n),n},i.prototype.cmp=function(t){if(this.sign&&!t.sign)return-1;if(!this.sign&&t.sign)return 1;var r=this.ucmp(t);return this.sign?-r:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var e=this.words[n],i=t.words[n];if(e!==i){i>e?r=-1:e>i&&(r=1);break}}return r},i.red=function(t){return new l(t)},i.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(!this.sign,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};u.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},u.prototype.ireduce=function(t){var r,n=t;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),r=n.bitLength();while(r>this.n);var e=r<this.n?-1:n.ucmp(this.p);return 0===e?(n.words[0]=0,n.length=1):e>0?n.isub(this.p):n.strip(),n},u.prototype.split=function(t,r){t.ishrn(this.n,0,r)},u.prototype.imulK=function(t){return t.imul(this.k)},e(a,u),a.prototype.split=function(t,r){for(var n=4194303,e=Math.min(t.length,9),i=0;e>i;i++)r.words[i]=t.words[i];if(r.length=e,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];r.words[r.length++]=o&n;for(var i=10;i<t.length;i++){var s=t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}t.words[i-10]=o>>>22,t.length-=9},a.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r,n=0,e=0;e<t.length;e++){var i=t.words[e];r=64*i,n+=977*i,r+=n/67108864|0,n&=67108863,t.words[e]=n,n=r}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},e(f,u),e(h,u),e(c,u),c.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var e=19*t.words[n]+r,i=67108863&e;e>>>=26,t.words[n]=i,r=e}return 0!==r&&(t.words[t.length++]=r),t},i._prime=function w(t){if(m[t])return m[t];var w;if("k256"===t)w=new a;else if("p224"===t)w=new f;else if("p192"===t)w=new h;else{if("p25519"!==t)throw new Error("Unknown prime "+t);w=new c}return m[t]=w,w},l.prototype._verify1=function(t){n(!t.sign,"red works only with positives"),n(t.red,"red works only with red numbers")},l.prototype._verify2=function(t,r){n(!t.sign&&!r.sign,"red works only with positives"),n(t.red&&t.red===r.red,"red works only with red numbers")},l.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.mod(this.m)._forceRed(this)},l.prototype.neg=function(t){var r=t.clone();return r.sign=!r.sign,r.iadd(this.m)._forceRed(this)},l.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},l.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},l.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},l.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},l.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.shln(r))},l.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},l.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},l.prototype.isqr=function(t){return this.imul(t,t)},l.prototype.sqr=function(t){return this.mul(t,t)},l.prototype.sqrt=function(t){if(0===t.cmpn(0))return t.clone();var r=this.m.andln(3);if(n(r%2===1),3===r){var e=this.m.add(new i(1)).ishrn(2),o=this.pow(t,e);return o}for(var s=this.m.subn(1),u=0;0!==s.cmpn(0)&&0===s.andln(1);)u++,s.ishrn(1);n(0!==s.cmpn(0));var a=new i(1).toRed(this),f=a.redNeg(),h=this.m.subn(1).ishrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,h).cmp(f);)c.redIAdd(f);for(var l=this.pow(c,s),o=this.pow(t,s.addn(1).ishrn(1)),p=this.pow(t,s),v=u;0!==p.cmp(a);){for(var d=p,g=0;0!==d.cmp(a);g++)d=d.redSqr();n(v>g);var m=this.pow(l,new i(1).ishln(v-g-1));o=o.redMul(m),l=m.redSqr(),p=p.redMul(l),v=g}return o},l.prototype.invm=function(t){var r=t._invmp(this.m);return r.sign?(r.sign=!1,this.imod(r).redNeg()):this.imod(r)},l.prototype.pow=function(t,r){var n=[];if(0===r.cmpn(0))return new i(1);for(var e=r.clone();0!==e.cmpn(0);)n.push(e.andln(1)),e.ishrn(1);for(var o=t,s=0;s<n.length&&0===n[s];s++,o=this.sqr(o));if(++s<n.length)for(var e=this.sqr(o);s<n.length;s++,e=this.sqr(e))0!==n[s]&&(o=this.mul(o,e));return o},l.prototype.convertTo=function(t){var r=t.mod(this.m);return r===t?r.clone():r},l.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new p(t)},e(p,l),p.prototype.convertTo=function(t){return this.imod(t.shln(this.shift))},p.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},p.prototype.imul=function(t,r){if(0===t.cmpn(0)||0===r.cmpn(0))return t.words[0]=0,t.length=1,t;var n=t.imul(r),e=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(e).ishrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},p.prototype.mul=function(t,r){if(0===t.cmpn(0)||0===r.cmpn(0))return new i(0)._forceRed(this);var n=t.mul(r),e=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(e).ishrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},p.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}}("undefined"==typeof r||r,this)},{}],66:[function(t,r,n){(function(t){function n(t,r){return p[0]=t,p[1]=r,l[0]}function e(t){return l[0]=t,p[0]}function i(t){return l[0]=t,p[1]}function o(t,r){return p[1]=t,p[0]=r,l[0]}function s(t){return l[0]=t,p[1]}function u(t){return l[0]=t,p[0]}function a(t,r){return v.writeUInt32LE(t,0,!0),v.writeUInt32LE(r,4,!0),v.readDoubleLE(0,!0)}function f(t){return v.writeDoubleLE(t,0,!0),v.readUInt32LE(0,!0)}function h(t){return v.writeDoubleLE(t,0,!0),v.readUInt32LE(4,!0)}var c=!1;if("undefined"!=typeof Float64Array){var l=new Float64Array(1),p=new Uint32Array(l.buffer);l[0]=1,c=!0,1072693248===p[1]?(r.exports=function(t){return l[0]=t,[p[0],p[1]]},r.exports.pack=n,r.exports.lo=e,r.exports.hi=i):1072693248===p[0]?(r.exports=function(t){return l[0]=t,[p[1],p[0]]},r.exports.pack=o,r.exports.lo=s,r.exports.hi=u):c=!1}if(!c){var v=new t(8);r.exports=function(t){return v.writeDoubleLE(t,0,!0),[v.readUInt32LE(0,!0),v.readUInt32LE(4,!0)]},r.exports.pack=a,r.exports.lo=f,r.exports.hi=h}r.exports.sign=function(t){return r.exports.hi(t)>>>31},r.exports.exponent=function(t){var n=r.exports.hi(t);return(n<<1>>>21)-1023},r.exports.fraction=function(t){var n=r.exports.lo(t),e=r.exports.hi(t),i=1048575&e;return 2146435072&e&&(i+=1<<20),[n,i]},r.exports.denormalized=function(t){var n=r.exports.hi(t);return!(2146435072&n)}}).call(this,t("buffer").Buffer)},{buffer:1}],67:[function(t,r,n){"use strict";function e(t){return i(t[0])*i(t[1])}var i=t("./lib/bn-sign");r.exports=e},{"./lib/bn-sign":56}],68:[function(t,r,n){"use strict";function e(t,r){return i(t[0].mul(r[1]).sub(t[1].mul(r[0])),t[1].mul(r[1]))}var i=t("./lib/rationalize");r.exports=e},{"./lib/rationalize":61}],69:[function(t,r,n){"use strict";function e(t){var r=t[0],n=t[1];if(0===r.cmpn(0))return 0;var e=r.divmod(n),s=e.div,u=i(s),a=e.mod;if(0===a.cmpn(0))return u;if(u){var f=o(u)+4,h=i(a.shln(f).divRound(n));return 0>u&&(h=-h),u+h*Math.pow(2,-f)}var c=n.bitLength()-a.bitLength()+53,h=i(a.shln(c).divRound(n));return 1023>c?h*Math.pow(2,-c):(h*=Math.pow(2,-1023),h*Math.pow(2,1023-c))}var i=t("./lib/bn-to-num"),o=t("./lib/ctz");r.exports=e},{"./lib/bn-to-num":57,"./lib/ctz":58}],70:[function(t,r,n){"use strict";function e(t,r){for(var n=0;t>n;++n)if(!(r[n]<=r[n+t]))return!0;return!1}function i(t,r,n,i){for(var o=0,s=0,u=0,a=t.length;a>u;++u){var f=t[u];if(!e(r,f)){for(var h=0;2*r>h;++h)n[o++]=f[h];i[s++]=u}}return s}function o(t,r,n,e){var o=t.length,s=r.length;if(!(0>=o||0>=s)){var u=t[0].length>>>1;if(!(0>=u)){var a,f=c.mallocDouble(2*u*o),h=c.mallocInt32(o);if(o=i(t,u,f,h),o>0){if(1===u&&e)l.init(o),a=l.sweepComplete(u,n,0,o,f,h,0,o,f,h);else{var v=c.mallocDouble(2*u*s),d=c.mallocInt32(s);s=i(r,u,v,d),s>0&&(l.init(o+s),a=1===u?l.sweepBipartite(u,n,0,o,f,h,0,s,v,d):p(u,n,e,o,f,h,s,v,d),c.free(v),c.free(d))}c.free(f),c.free(h)}return a}}}function s(t,r){h.push([t,r])}function u(t){return h=[],o(t,t,s,!0),h}function a(t,r){return h=[],o(t,r,s,!1),h}function f(t,r,n){switch(arguments.length){case 1:return u(t);case 2:return"function"==typeof r?o(t,t,r,!0):a(t,r);case 3:return o(t,r,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}r.exports=f;var h,c=t("typedarray-pool"),l=t("./lib/sweep"),p=t("./lib/intersect")},{"./lib/intersect":72,"./lib/sweep":76,"typedarray-pool":79}],71:[function(t,r,n){"use strict";function e(t,r,n){var e="bruteForce"+(t?"Red":"Blue")+(r?"Flip":"")+(n?"Full":""),i=["function ",e,"(",E.join(),"){","var ",f,"=2*",o,";"],a="for(var i="+h+","+v+"="+f+"*"+h+";i<"+c+";++i,"+v+"+="+f+"){var x0="+l+"["+s+"+"+v+"],x1="+l+"["+s+"+"+v+"+"+o+"],xi="+p+"[i];",A="for(var j="+d+","+y+"="+f+"*"+d+";j<"+g+";++j,"+y+"+="+f+"){var y0="+m+"["+s+"+"+y+"],"+(n?"y1="+m+"["+s+"+"+y+"+"+o+"],":"")+"yi="+w+"[j];";return t?i.push(a,x,":",A):i.push(A,x,":",a),n?i.push("if(y1<x0||x1<y0)continue;"):r?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+s+"+1;k<"+o+";++k){var r0="+l+"[k+"+v+"],r1="+l+"[k+"+o+"+"+v+"],b0="+m+"[k+"+y+"],b1="+m+"[k+"+o+"+"+y+"];if(r1<b0||b1<r0)continue "+x+";}var "+b+"="+u+"("),r?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+b+"!==void 0)return "+b+";}}}"),{name:e,code:i.join("")}}function i(t){function r(r,n){var o=e(r,n,t);i.push(o.code),s.push("return "+o.name+"("+E.join()+");")}var n="bruteForce"+(t?"Full":"Partial"),i=[],o=E.slice();t||o.splice(3,0,a);var s=["function "+n+"("+o.join()+"){"];s.push("if("+c+"-"+h+">"+g+"-"+d+"){"),t?(r(!0,!1),s.push("}else{"),r(!1,!1)):(s.push("if("+a+"){"),r(!0,!0),s.push("}else{"),r(!0,!1),s.push("}}else{if("+a+"){"),r(!1,!0),s.push("}else{"),r(!1,!1),s.push("}")),s.push("}}return "+n);var u=i.join("")+s.join(""),f=new Function(u);return f()}var o="d",s="ax",u="vv",a="fp",f="es",h="rs",c="re",l="rb",p="ri",v="rp",d="bs",g="be",m="bb",w="bi",y="bp",b="rv",x="Q",E=[o,s,u,h,c,l,p,d,g,m,w];n.partial=i(!1),n.full=i(!0)},{}],72:[function(t,r,n){"use strict";function e(t,r){var n=8*f.log2(r+1)*(t+1)|0,e=f.nextPow2(M*n);L.length<e&&(a.free(L),L=a.mallocInt32(e));var i=f.nextPow2(I*n);i>B&&(a.free(B),B=a.mallocDouble(i))}function i(t,r,n,e,i,o,s,u,a){var f=M*t;L[f]=r,L[f+1]=n,L[f+2]=e,L[f+3]=i,L[f+4]=o,L[f+5]=s;var h=I*t;B[h]=u,B[h+1]=a}function o(t,r,n,e,i,o,s,u,a,f,h){var c=2*t,l=a*c,p=f[l+r];t:for(var v=i,d=i*c;o>v;++v,d+=c){var g=s[d+r],m=s[d+r+t];if(!(g>p||p>m||e&&p===g)){for(var w=u[v],y=r+1;t>y;++y){var g=s[d+y],m=s[d+y+t],b=f[l+y],x=f[l+y+t];if(b>m||g>x)continue t}var E;if(E=e?n(h,w):n(w,h),void 0!==E)return E}}}function s(t,r,n,e,i,o,s,u,a,f){var h=2*t,c=u*h,l=a[c+r];t:for(var p=e,v=e*h;i>p;++p,v+=h){var d=s[p];if(d!==f){var g=o[v+r],m=o[v+r+t];if(!(g>l||l>m)){for(var w=r+1;t>w;++w){var g=o[v+w],m=o[v+w+t],y=a[c+w],b=a[c+w+t];if(y>m||g>b)continue t}var x=n(d,f);if(void 0!==x)return x}}}}function u(t,r,n,u,a,f,h,d,T){e(t,u+h);var R,U=0,S=2*t;for(i(U++,0,0,u,0,h,n?16:0,-(1/0),1/0),n||i(U++,0,0,h,0,u,1,-(1/0),1/0);U>0;){U-=1;var k=U*M,P=L[k],j=L[k+1],O=L[k+2],C=L[k+3],D=L[k+4],N=L[k+5],F=U*I,q=B[F],Y=B[F+1],z=1&N,H=!!(16&N),V=a,X=f,G=d,J=T;if(z&&(V=d,X=T,G=a,J=f),!(2&N&&(O=x(t,P,j,O,V,X,Y),j>=O)||4&N&&(j=E(t,P,j,O,V,X,q),j>=O))){var Z=O-j,K=D-C;if(H){if(w>t*Z*(Z+K)){if(R=p.scanComplete(t,P,r,j,O,V,X,C,D,G,J),void 0!==R)return R;continue}}else{if(t*Math.min(Z,K)<g){if(R=c(t,P,r,z,j,O,V,X,C,D,G,J),void 0!==R)return R;continue}if(m>t*Z*K){if(R=p.scanBipartite(t,P,r,z,j,O,V,X,C,D,G,J),void 0!==R)return R;continue}}var Q=y(t,P,j,O,V,X,q,Y);if(Q>j)if(g>t*(Q-j)){if(R=l(t,P+1,r,j,Q,V,X,C,D,G,J),void 0!==R)return R}else if(P===t-2){if(R=z?p.sweepBipartite(t,r,C,D,G,J,j,Q,V,X):p.sweepBipartite(t,r,j,Q,V,X,C,D,G,J),void 0!==R)return R}else i(U++,P+1,j,Q,C,D,z,-(1/0),1/0),i(U++,P+1,C,D,j,Q,1^z,-(1/0),1/0);if(O>Q){var W=v(t,P,C,D,G,J),$=G[S*W+P],tt=b(t,P,W,D,G,J,$);if(D>tt&&i(U++,P,Q,O,tt,D,(4|z)+(H?16:0),$,Y),W>C&&i(U++,P,Q,O,C,W,(2|z)+(H?16:0),q,$),W+1===tt){if(R=H?s(t,P,r,Q,O,V,X,W,G,J[W]):o(t,P,r,z,Q,O,V,X,W,G,J[W]),void 0!==R)return R}else if(tt>W){var rt;if(H){if(rt=A(t,P,Q,O,V,X,$),rt>Q){var nt=b(t,P,Q,rt,V,X,$);if(P===t-2){if(nt>Q&&(R=p.sweepComplete(t,r,Q,nt,V,X,W,tt,G,J),void 0!==R))return R;if(rt>nt&&(R=p.sweepBipartite(t,r,nt,rt,V,X,W,tt,G,J),void 0!==R))return R}else nt>Q&&i(U++,P+1,Q,nt,W,tt,16,-(1/0),1/0),rt>nt&&(i(U++,P+1,nt,rt,W,tt,0,-(1/0),1/0),i(U++,P+1,W,tt,nt,rt,1,-(1/0),1/0))}}else rt=z?_(t,P,Q,O,V,X,$):A(t,P,Q,O,V,X,$),rt>Q&&(P===t-2?R=z?p.sweepBipartite(t,r,W,tt,G,J,Q,rt,V,X):p.sweepBipartite(t,r,Q,rt,V,X,W,tt,G,J):(i(U++,P+1,Q,rt,W,tt,z,-(1/0),1/0),
i(U++,P+1,W,tt,Q,rt,1^z,-(1/0),1/0)))}}}}}r.exports=u;var a=t("typedarray-pool"),f=t("bit-twiddle"),h=t("./brute"),c=h.partial,l=h.full,p=t("./sweep"),v=t("./median"),d=t("./partition"),g=128,m=1<<22,w=1<<22,y=d("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),b=d("lo===p0",["p0"]),x=d("lo<p0",["p0"]),E=d("hi<=p0",["p0"]),A=d("lo<=p0&&p0<=hi",["p0"]),_=d("lo<p0&&p0<=hi",["p0"]),M=6,I=2,T=1024,L=a.mallocInt32(T),B=a.mallocDouble(T)},{"./brute":71,"./median":73,"./partition":74,"./sweep":76,"bit-twiddle":77,"typedarray-pool":79}],73:[function(t,r,n){"use strict";function e(t,r,n,e,i,o){for(var s=2*t,u=s*(n+1)+r,a=n+1;e>a;++a,u+=s)for(var f=i[u],h=a,c=s*(a-1);h>n&&i[c+r]>f;--h,c-=s){for(var l=c,p=c+s,v=0;s>v;++v,++l,++p){var d=i[l];i[l]=i[p],i[p]=d}var g=o[h];o[h]=o[h-1],o[h-1]=g}}function i(t,r,n,i,o,a){if(n+1>=i)return n;for(var f=n,h=i,c=i+n>>>1,l=2*t,p=c,v=o[l*c+r];h>f;){if(u>h-f){e(t,r,f,h,o,a),v=o[l*c+r];break}var d=h-f,g=Math.random()*d+f|0,m=o[l*g+r],w=Math.random()*d+f|0,y=o[l*w+r],b=Math.random()*d+f|0,x=o[l*b+r];y>=m?x>=y?(p=w,v=y):m>=x?(p=g,v=m):(p=b,v=x):y>=x?(p=w,v=y):x>=m?(p=g,v=m):(p=b,v=x);for(var E=l*(h-1),A=l*p,_=0;l>_;++_,++E,++A){var M=o[E];o[E]=o[A],o[A]=M}var I=a[h-1];a[h-1]=a[p],a[p]=I,p=s(t,r,f,h-1,o,a,v);for(var E=l*(h-1),A=l*p,_=0;l>_;++_,++E,++A){var M=o[E];o[E]=o[A],o[A]=M}var I=a[h-1];if(a[h-1]=a[p],a[p]=I,p>c){for(h=p-1;h>f&&o[l*(h-1)+r]===v;)h-=1;h+=1}else{if(!(c>p))break;for(f=p+1;h>f&&o[l*f+r]===v;)f+=1}}return s(t,r,n,c,o,a,o[l*c+r])}r.exports=i;var o=t("./partition"),s=o("lo<p0",["p0"]),u=8},{"./partition":74}],74:[function(t,r,n){"use strict";function e(t,r){var n="abcdef".split("").concat(r),e=[];return t.indexOf("lo")>=0&&e.push("lo=e[k+n]"),t.indexOf("hi")>=0&&e.push("hi=e[k+o]"),n.push(i.replace("_",e.join()).replace("$",t)),Function.apply(void 0,n)}r.exports=e;var i="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],75:[function(t,r,n){"use strict";function e(t,r){4*l>=r?i(0,r-1,t):c(0,r-1,t)}function i(t,r,n){for(var e=2*(t+1),i=t+1;r>=i;++i){for(var o=n[e++],s=n[e++],u=i,a=e-2;u-->t;){var f=n[a-2],h=n[a-1];if(o>f)break;if(f===o&&s>h)break;n[a]=f,n[a+1]=h,a-=2}n[a]=o,n[a+1]=s}}function o(t,r,n){t*=2,r*=2;var e=n[t],i=n[t+1];n[t]=n[r],n[t+1]=n[r+1],n[r]=e,n[r+1]=i}function s(t,r,n){t*=2,r*=2,n[t]=n[r],n[t+1]=n[r+1]}function u(t,r,n,e){t*=2,r*=2,n*=2;var i=e[t],o=e[t+1];e[t]=e[r],e[t+1]=e[r+1],e[r]=e[n],e[r+1]=e[n+1],e[n]=i,e[n+1]=o}function a(t,r,n,e,i){t*=2,r*=2,i[t]=i[r],i[r]=n,i[t+1]=i[r+1],i[r+1]=e}function f(t,r,n){t*=2,r*=2;var e=n[t],i=n[r];return i>e?!1:e===i?n[t+1]>n[r+1]:!0}function h(t,r,n,e){t*=2;var i=e[t];return r>i?!0:i===r?e[t+1]<n:!1}function c(t,r,n){var e=(r-t+1)/6|0,p=t+e,v=r-e,d=t+r>>1,g=d-e,m=d+e,w=p,y=g,b=d,x=m,E=v,A=t+1,_=r-1,M=0;f(w,y,n)&&(M=w,w=y,y=M),f(x,E,n)&&(M=x,x=E,E=M),f(w,b,n)&&(M=w,w=b,b=M),f(y,b,n)&&(M=y,y=b,b=M),f(w,x,n)&&(M=w,w=x,x=M),f(b,x,n)&&(M=b,b=x,x=M),f(y,E,n)&&(M=y,y=E,E=M),f(y,b,n)&&(M=y,y=b,b=M),f(x,E,n)&&(M=x,x=E,E=M);for(var I=n[2*y],T=n[2*y+1],L=n[2*x],B=n[2*x+1],R=2*w,U=2*b,S=2*E,k=2*p,P=2*d,j=2*v,O=0;2>O;++O){var C=n[R+O],D=n[U+O],N=n[S+O];n[k+O]=C,n[P+O]=D,n[j+O]=N}s(g,t,n),s(m,r,n);for(var F=A;_>=F;++F)if(h(F,I,T,n))F!==A&&o(F,A,n),++A;else if(!h(F,L,B,n))for(;;){if(h(_,L,B,n)){h(_,I,T,n)?(u(F,A,_,n),++A,--_):(o(F,_,n),--_);break}if(--_<F)break}a(t,A-1,I,T,n),a(r,_+1,L,B,n),l>=A-2-t?i(t,A-2,n):c(t,A-2,n),l>=r-(_+2)?i(_+2,r,n):c(_+2,r,n),l>=_-A?i(A,_,n):c(A,_,n)}r.exports=e;var l=32},{}],76:[function(t,r,n){"use strict";function e(t){var r=c.nextPow2(t);d.length<r&&(h.free(d),d=h.mallocInt32(r)),g.length<r&&(h.free(g),g=h.mallocInt32(r)),m.length<r&&(h.free(m),m=h.mallocInt32(r)),w.length<r&&(h.free(w),w=h.mallocInt32(r)),y.length<r&&(h.free(y),y=h.mallocInt32(r)),b.length<r&&(h.free(b),b=h.mallocInt32(r));var n=8*r;x.length<n&&(h.free(x),x=h.mallocDouble(n))}function i(t,r,n,e){var i=r[e],o=t[n-1];t[i]=o,r[o]=i}function o(t,r,n,e){t[n]=e,r[e]=n}function s(t,r,n,e,s,u,a,f,h,c){for(var v=0,y=2*t,b=t-1,E=y-1,A=n;e>A;++A){var _=u[A],M=y*A;x[v++]=s[M+b],x[v++]=-(_+1),x[v++]=s[M+E],x[v++]=_}for(var A=a;f>A;++A){var _=c[A]+p,I=y*A;x[v++]=h[I+b],x[v++]=-_,x[v++]=h[I+E],x[v++]=_}var T=v>>>1;l(x,T);for(var L=0,B=0,A=0;T>A;++A){var R=0|x[2*A+1];if(R>=p)R=R-p|0,i(m,w,B--,R);else if(R>=0)i(d,g,L--,R);else if(-p>=R){R=-R-p|0;for(var U=0;L>U;++U){var S=r(d[U],R);if(void 0!==S)return S}o(m,w,B++,R)}else{R=-R-1|0;for(var U=0;B>U;++U){var S=r(R,m[U]);if(void 0!==S)return S}o(d,g,L++,R)}}}function u(t,r,n,e,s,u,a,f,h,c){for(var p=0,v=2*t,E=t-1,A=v-1,_=n;e>_;++_){var M=u[_]+1<<1,I=v*_;x[p++]=s[I+E],x[p++]=-M,x[p++]=s[I+A],x[p++]=M}for(var _=a;f>_;++_){var M=c[_]+1<<1,T=v*_;x[p++]=h[T+E],x[p++]=1|-M,x[p++]=h[T+A],x[p++]=1|M}var L=p>>>1;l(x,L);for(var B=0,R=0,U=0,_=0;L>_;++_){var S=0|x[2*_+1],k=1&S;if(L-1>_&&S>>1===x[2*_+3]>>1&&(k=2,_+=1),0>S){for(var P=-(S>>1)-1,j=0;U>j;++j){var O=r(y[j],P);if(void 0!==O)return O}if(0!==k)for(var j=0;B>j;++j){var O=r(d[j],P);if(void 0!==O)return O}if(1!==k)for(var j=0;R>j;++j){var O=r(m[j],P);if(void 0!==O)return O}0===k?o(d,g,B++,P):1===k?o(m,w,R++,P):2===k&&o(y,b,U++,P)}else{var P=(S>>1)-1;0===k?i(d,g,B--,P):1===k?i(m,w,R--,P):2===k&&i(y,b,U--,P)}}}function a(t,r,n,e,s,u,a,f,h,c,v,m){var w=0,y=2*t,b=r,E=r+t,A=1,_=1;e?_=p:A=p;for(var M=s;u>M;++M){var I=M+A,T=y*M;x[w++]=a[T+b],x[w++]=-I,x[w++]=a[T+E],x[w++]=I}for(var M=h;c>M;++M){var I=M+_,L=y*M;x[w++]=v[L+b],x[w++]=-I}var B=w>>>1;l(x,B);for(var R=0,M=0;B>M;++M){var U=0|x[2*M+1];if(0>U){var I=-U,S=!1;if(I>=p?(S=!e,I-=p):(S=!!e,I-=1),S)o(d,g,R++,I);else{var k=m[I],P=y*I,j=v[P+r+1],O=v[P+r+1+t];t:for(var C=0;R>C;++C){var D=d[C],N=y*D;if(!(O<a[N+r+1]||a[N+r+1+t]<j)){for(var F=r+2;t>F;++F)if(v[P+F+t]<a[N+F]||a[N+F+t]<v[P+F])continue t;var q,Y=f[D];if(q=e?n(k,Y):n(Y,k),void 0!==q)return q}}}}else i(d,g,R--,U-A)}}function f(t,r,n,e,i,o,s,u,a,f,h){for(var c=0,v=2*t,g=r,m=r+t,w=e;i>w;++w){var y=w+p,b=v*w;x[c++]=o[b+g],x[c++]=-y,x[c++]=o[b+m],x[c++]=y}for(var w=u;a>w;++w){var y=w+1,E=v*w;x[c++]=f[E+g],x[c++]=-y}var A=c>>>1;l(x,A);for(var _=0,w=0;A>w;++w){var M=0|x[2*w+1];if(0>M){var y=-M;if(y>=p)d[_++]=y-p;else{y-=1;var I=h[y],T=v*y,L=f[T+r+1],B=f[T+r+1+t];t:for(var R=0;_>R;++R){var U=d[R],S=s[U];if(S===I)break;var k=v*U;if(!(B<o[k+r+1]||o[k+r+1+t]<L)){for(var P=r+2;t>P;++P)if(f[T+P+t]<o[k+P]||o[k+P+t]<f[T+P])continue t;var j=n(S,I);if(void 0!==j)return j}}}}else{for(var y=M-p,R=_-1;R>=0;--R)if(d[R]===y){for(var P=R+1;_>P;++P)d[P-1]=d[P];break}--_}}}r.exports={init:e,sweepBipartite:s,sweepComplete:u,scanBipartite:a,scanComplete:f};var h=t("typedarray-pool"),c=t("bit-twiddle"),l=t("./sort"),p=1<<28,v=1024,d=h.mallocInt32(v),g=h.mallocInt32(v),m=h.mallocInt32(v),w=h.mallocInt32(v),y=h.mallocInt32(v),b=h.mallocInt32(v),x=h.mallocDouble(8*v)},{"./sort":75,"bit-twiddle":77,"typedarray-pool":79}],77:[function(t,r,n){arguments[4][64][0].apply(n,arguments)},{dup:64}],78:[function(t,r,n){"use strict";function e(t,r,n){var i=0|t[n];if(0>=i)return[];var o,s=new Array(i);if(n===t.length-1)for(o=0;i>o;++o)s[o]=r;else for(o=0;i>o;++o)s[o]=e(t,r,n+1);return s}function i(t,r){var n,e;for(n=new Array(t),e=0;t>e;++e)n[e]=r;return n}function o(t,r){switch("undefined"==typeof r&&(r=0),typeof t){case"number":if(t>0)return i(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}r.exports=o},{}],79:[function(t,r,n){(function(r,e){"use strict";function i(t){if(t){var r=t.length||t.byteLength,n=w.log2(r);E[n].push(t)}}function o(t){i(t.buffer)}function s(t){var t=w.nextPow2(t),r=w.log2(t),n=E[r];return n.length>0?n.pop():new ArrayBuffer(t)}function u(t){return new Uint8Array(s(t),0,t)}function a(t){return new Uint16Array(s(2*t),0,t)}function f(t){return new Uint32Array(s(4*t),0,t)}function h(t){return new Int8Array(s(t),0,t)}function c(t){return new Int16Array(s(2*t),0,t)}function l(t){return new Int32Array(s(4*t),0,t)}function p(t){return new Float32Array(s(4*t),0,t)}function v(t){return new Float64Array(s(8*t),0,t)}function d(t){return b?new Uint8ClampedArray(s(t),0,t):u(t)}function g(t){return new DataView(s(t),0,t)}function m(t){t=w.nextPow2(t);var r=w.log2(t),n=A[r];return n.length>0?n.pop():new e(t)}var w=t("bit-twiddle"),y=t("dup");r.__TYPEDARRAY_POOL||(r.__TYPEDARRAY_POOL={UINT8:y([32,0]),UINT16:y([32,0]),UINT32:y([32,0]),INT8:y([32,0]),INT16:y([32,0]),INT32:y([32,0]),FLOAT:y([32,0]),DOUBLE:y([32,0]),DATA:y([32,0]),UINT8C:y([32,0]),BUFFER:y([32,0])});var b="undefined"!=typeof Uint8ClampedArray,x=r.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=y([32,0])),x.BUFFER||(x.BUFFER=y([32,0]));var E=x.DATA,A=x.BUFFER;n.free=function(t){if(e.isBuffer(t))A[w.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,n=0|w.log2(r);E[n].push(t)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeInt8=n.freeInt16=n.freeInt32=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=o,n.freeArrayBuffer=i,n.freeBuffer=function(t){A[w.log2(t.length)].push(t)},n.malloc=function(t,r){if(void 0===r||"arraybuffer"===r)return s(t);switch(r){case"uint8":return u(t);case"uint16":return a(t);case"uint32":return f(t);case"int8":return h(t);case"int16":return c(t);case"int32":return l(t);case"float":case"float32":return p(t);case"double":case"float64":return v(t);case"uint8_clamped":return d(t);case"buffer":return m(t);case"data":case"dataview":return g(t);default:return null}return null},n.mallocArrayBuffer=s,n.mallocUint8=u,n.mallocUint16=a,n.mallocUint32=f,n.mallocInt8=h,n.mallocInt16=c,n.mallocInt32=l,n.mallocFloat32=n.mallocFloat=p,n.mallocFloat64=n.mallocDouble=v,n.mallocUint8Clamped=d,n.mallocDataView=g,n.mallocBuffer=m,n.clearCache=function(){for(var t=0;32>t;++t)x.UINT8[t].length=0,x.UINT16[t].length=0,x.UINT32[t].length=0,x.INT8[t].length=0,x.INT16[t].length=0,x.INT32[t].length=0,x.FLOAT[t].length=0,x.DOUBLE[t].length=0,x.UINT8C[t].length=0,E[t].length=0,A[t].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"bit-twiddle":77,buffer:1,dup:78}],80:[function(t,r,n){function e(t,r){return t-r}function i(t,r){var n=t.length,i=t.length-r.length;if(i)return i;switch(n){case 0:return 0;case 1:return t[0]-r[0];case 2:return t[0]+t[1]-r[0]-r[1]||o(t[0],t[1])-o(r[0],r[1]);case 3:var s=t[0]+t[1],u=r[0]+r[1];if(i=s+t[2]-(u+r[2]))return i;var a=o(t[0],t[1]),f=o(r[0],r[1]);return o(a,t[2])-o(f,r[2])||o(a+t[2],s)-o(f+r[2],u);case 4:var h=t[0],c=t[1],l=t[2],p=t[3],v=r[0],d=r[1],g=r[2],m=r[3];return h+c+l+p-(v+d+g+m)||o(h,c,l,p)-o(v,d,g,m,v)||o(h+c,h+l,h+p,c+l,c+p,l+p)-o(v+d,v+g,v+m,d+g,d+m,g+m)||o(h+c+l,h+c+p,h+l+p,c+l+p)-o(v+d+g,v+d+m,v+g+m,d+g+m);default:for(var w=t.slice().sort(e),y=r.slice().sort(e),b=0;n>b;++b)if(i=w[b]-y[b])return i;return 0}}r.exports=i;var o=Math.min},{}],81:[function(t,r,n){"use strict";function e(t,r){if(isNaN(t)||isNaN(r))return NaN;if(t===r)return t;if(0===t)return 0>r?-o:o;var n=i.hi(t),e=i.lo(t);return r>t==t>0?e===s?(n+=1,e=0):e+=1:0===e?(e=s,n-=1):e-=1,i.pack(e,n)}var i=t("double-bits"),o=Math.pow(2,-1074),s=-1>>>0;r.exports=e},{"double-bits":82}],82:[function(t,r,n){arguments[4][66][0].apply(n,arguments)},{buffer:1,dup:66}],83:[function(t,r,n){"use strict";function e(t,r){for(var n=t.length,e=new Array(n),o=0;n>o;++o)e[o]=i(t[o],r[o]);return e}var i=t("big-rat/add");r.exports=e},{"big-rat/add":51}],84:[function(t,r,n){"use strict";function e(t){for(var r=new Array(t.length),n=0;n<t.length;++n)r[n]=i(t[n]);return r}r.exports=e;var i=t("big-rat")},{"big-rat":54}],85:[function(t,r,n){"use strict";function e(t,r){for(var n=i(r),e=t.length,s=new Array(e),u=0;e>u;++u)s[u]=o(t[u],n);return s}var i=t("big-rat"),o=t("big-rat/mul");r.exports=e},{"big-rat":54,"big-rat/mul":63}],86:[function(t,r,n){"use strict";function e(t,r){for(var n=t.length,e=new Array(n),o=0;n>o;++o)e[o]=i(t[o],r[o]);return e}var i=t("big-rat/sub");r.exports=e},{"big-rat/sub":68}],87:[function(t,r,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],88:[function(t,r,n){arguments[4][39][0].apply(n,arguments)},{dup:39,"two-product":91,"two-sum":87}],89:[function(t,r,n){arguments[4][40][0].apply(n,arguments)},{dup:40}],90:[function(t,r,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],91:[function(t,r,n){arguments[4][42][0].apply(n,arguments)},{dup:42}],92:[function(t,r,n){arguments[4][48][0].apply(n,arguments)},{dup:48,"robust-scale":88,"robust-subtract":89,"robust-sum":90,"two-product":91}],93:[function(t,r,n){"use strict";function e(t,r,n,e){for(var i=0;2>i;++i){var o=t[i],s=r[i],u=Math.min(o,s),a=Math.max(o,s),f=n[i],h=e[i],c=Math.min(f,h),l=Math.max(f,h);if(u>l||c>a)return!1}return!0}function i(t,r,n,i){var s=o(t,n,i),u=o(r,n,i);if(s>0&&u>0||0>s&&0>u)return!1;var a=o(n,t,r),f=o(i,t,r);return a>0&&f>0||0>a&&0>f?!1:0===s&&0===u&&0===a&&0===f?e(t,r,n,i):!0}r.exports=i;var o=t("robust-orientation")[3]},{"robust-orientation":92}],94:[function(t,r,n){"use strict";"use restrict";function e(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;t>r;++r)this.roots[r]=r,this.ranks[r]=0}r.exports=e;var i=e.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var r=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[r]!==t;){var e=n[r];n[r]=t,r=e}return t},i.link=function(t,r){var n=this.find(t),e=this.find(r);if(n!==e){var i=this.ranks,o=this.roots,s=i[n],u=i[e];u>s?o[n]=e:s>u?o[e]=n:(o[e]=n,++i[n])}}},{}],95:[function(t,r,n){function e(t,r){if(!Array.isArray(t))throw new TypeError("must specify positions as first argument");Array.isArray(r)||(r=i(t));var n=r[0],e=r[1],s=e[0]-n[0],u=e[1]-n[1],a=s>u?1:u/s,f=s>u?s/u:1;if(e[0]-n[0]===0||e[1]-n[1]===0)return t;for(var h=0;h<t.length;h++){var c=t[h];c[0]=(2*o(n[0],e[0],c[0])-1)/a,c[1]=(2*o(n[1],e[1],c[1])-1)/f}return t}var i=t("bound-points"),o=t("unlerp");r.exports=e},{"bound-points":30,unlerp:96}],96:[function(t,r,n){r.exports=function(t,r,n){return(n-t)/(r-t)}},{}],97:[function(t,r,n){"use strict";function e(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;r.exports=Object.assign||function(t,r){for(var n,s,u=e(t),a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var f in n)i.call(n,f)&&(u[f]=n[f]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},{}],98:[function(t,r,n){function e(t){var r=[];return t.replace(s,function(t,n,e){var s=n.toLowerCase();for(e=i(e),"m"==s&&e.length>2&&(r.push([n].concat(e.splice(0,2))),s="l",n="m"==n?"l":"L");;){if(e.length==o[s])return e.unshift(n),r.push(e);if(e.length<o[s])throw new Error("malformed path data");r.push([n].concat(e.splice(0,o[s])))}}),r}function i(t){return t=t.match(/-?[.0-9]+(?:e[-+]?\d+)?/gi),t?t.map(Number):[]}r.exports=e;var o={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=/([astvzqmhlc])([^astvzqmhlc]*)/gi},{}],99:[function(t,r,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],100:[function(t,r,n){function e(t,r,n){var e=r[0],i=r[1],o=n[0]-e,s=n[1]-i;if(0!==o||0!==s){var u=((t[0]-e)*o+(t[1]-i)*s)/(o*o+s*s);u>1?(e=n[0],i=n[1]):u>0&&(e+=o*u,i+=s*u)}return o=t[0]-e,s=t[1]-i,o*o+s*s}function i(t,r,n,o,s){for(var u,a=o,f=r+1;n>f;f++){var h=e(t[f],t[r],t[n]);h>a&&(u=f,a=h)}a>o&&(u-r>1&&i(t,r,u,o,s),s.push(t[u]),n-u>1&&i(t,u,n,o,s))}r.exports=function(t,r){if(t.length<=1)return t;r="number"==typeof r?r:1;var n=r*r,e=t.length-1,o=[t[0]];return i(t,0,e,n,o),o.push(t[e]),o}},{}],101:[function(t,r,n){var e=t("./radial-distance"),i=t("./douglas-peucker");r.exports=function(t,r){return t=e(t,r),t=i(t,r)},r.exports.radialDistance=e,r.exports.douglasPeucker=i},{"./douglas-peucker":100,"./radial-distance":102}],102:[function(t,r,n){function e(t,r){var n=t[0]-r[0],e=t[1]-r[1];return n*n+e*e}r.exports=function(t,r){if(t.length<=1)return t;r="number"==typeof r?r:1;for(var n,i=r*r,o=t[0],s=[o],u=1,a=t.length;a>u;u++)n=t[u],e(n,o)>i&&(s.push(n),o=n);return o!==n&&s.push(n),s}},{}],103:[function(t,r,n){function e(t,r,n){return t[0]=r,t[1]=n,t}function i(t,r,n,i){o(n,e(f,i[1],i[2]),e(h,i[3],i[4]),e(c,i[5],i[6]),r,t)}var o=t("adaptive-bezier-curve"),s=t("abs-svg-path"),u=t("normalize-svg-path"),a=t("vec2-copy"),f=[0,0],h=[0,0],c=[0,0];r.exports=function(t,r){var n=[],o=[],f=[0,0];return u(s(t)).forEach(function(t,s,u){if("M"===t[0])a(f,t.slice(1)),o.length>0&&(n.push(o),o=[]);else{if("C"!==t[0])throw new Error("illegal type in SVG: "+t[0]);i(o,r,f,t),e(f,t[5],t[6])}}),o.length>0&&n.push(o),n}},{"abs-svg-path":104,"adaptive-bezier-curve":106,"normalize-svg-path":107,"vec2-copy":108}],104:[function(t,r,n){function e(t){var r=0,n=0,e=0,i=0;return t.map(function(t){t=t.slice();var o=t[0],s=o.toUpperCase();if(o!=s)switch(t[0]=s,o){case"a":t[6]+=e,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=e;break;default:for(var u=1;u<t.length;)t[u++]+=e,t[u++]+=i}switch(s){case"Z":e=r,i=n;break;case"H":e=t[1];break;case"V":i=t[1];break;case"M":e=r=t[1],i=n=t[2];break;default:e=t[t.length-2],i=t[t.length-1]}return t})}r.exports=e},{}],105:[function(t,r,n){function e(t){return[t[0],t[1]]}function i(t,r){return[t,r]}r.exports=function(t){function r(t,r,i,o,s,u){s.push(e(t));var a=t[0],f=t[1],h=r[0],c=r[1],l=i[0],p=i[1],v=o[0],d=o[1];n(a,f,h,c,l,p,v,d,s,u,0),s.push(e(o))}function n(t,r,e,u,c,l,p,v,d,g,m){if(!(m>o)){var w=Math.PI,y=(t+e)/2,b=(r+u)/2,x=(e+c)/2,E=(u+l)/2,A=(c+p)/2,_=(l+v)/2,M=(y+x)/2,I=(b+E)/2,T=(x+A)/2,L=(E+_)/2,B=(M+T)/2,R=(I+L)/2;if(m>0){var U,S,k=p-t,P=v-r,j=Math.abs((e-p)*P-(u-v)*k),O=Math.abs((c-p)*P-(l-v)*k);if(j>s&&O>s){if(g*(k*k+P*P)>=(j+O)*(j+O)){if(a>f)return void d.push(i(B,R));var C=Math.atan2(l-u,c-e);if(U=Math.abs(C-Math.atan2(u-r,e-t)),S=Math.abs(Math.atan2(v-l,p-c)-C),U>=w&&(U=2*w-U),S>=w&&(S=2*w-S),f>U+S)return void d.push(i(B,R));if(0!==h){if(U>h)return void d.push(i(e,u));if(S>h)return void d.push(i(c,l))}}}else if(j>s){if(g*(k*k+P*P)>=j*j){if(a>f)return void d.push(i(B,R));if(U=Math.abs(Math.atan2(l-u,c-e)-Math.atan2(u-r,e-t)),U>=w&&(U=2*w-U),f>U)return d.push(i(e,u)),void d.push(i(c,l));if(0!==h&&U>h)return void d.push(i(e,u))}}else if(O>s){if(g*(k*k+P*P)>=O*O){if(a>f)return void d.push(i(B,R));if(U=Math.abs(Math.atan2(v-l,p-c)-Math.atan2(l-u,c-e)),U>=w&&(U=2*w-U),f>U)return d.push(i(e,u)),void d.push(i(c,l));if(0!==h&&U>h)return void d.push(i(c,l))}}else if(k=B-(t+p)/2,P=R-(r+v)/2,g>=k*k+P*P)return void d.push(i(B,R))}n(t,r,y,b,M,I,B,R,d,g,m+1),n(B,R,T,L,A,_,p,v,d,g,m+1)}}t=t||{};var o="number"==typeof t.recursion?t.recursion:8,s="number"==typeof t.epsilon?t.epsilon:1.1920929e-7,u="number"==typeof t.pathEpsilon?t.pathEpsilon:1,a="number"==typeof t.angleEpsilon?t.angleEpsilon:.01,f=t.angleTolerance||0,h=t.cuspLimit||0;return function(t,n,e,i,o,s){s||(s=[]),o="number"==typeof o?o:1;var a=u/o;return a*=a,r(t,n,e,i,s,a),s}}},{}],106:[function(t,r,n){r.exports=t("./function")()},{"./function":105}],107:[function(t,r,n){function e(t){for(var r,n=[],e=0,u=0,f=0,h=0,c=null,l=null,p=0,v=0,d=0,g=t.length;g>d;d++){var m=t[d],w=m[0];switch(w){case"M":f=m[1],h=m[2];break;case"A":m=s(p,v,m[1],m[2],a(m[3]),m[4],m[5],m[6],m[7]),m.unshift("C"),m.length>7&&(n.push(m.splice(0,7)),m.unshift("C"));break;case"S":var y=p,b=v;("C"==r||"S"==r)&&(y+=y-e,b+=b-u),m=["C",y,b,m[1],m[2],m[3],m[4]];break;case"T":"Q"==r||"T"==r?(c=2*p-c,l=2*v-l):(c=p,l=v),m=o(p,v,c,l,m[1],m[2]);break;case"Q":c=m[1],l=m[2],m=o(p,v,m[1],m[2],m[3],m[4]);break;case"L":m=i(p,v,m[1],m[2]);break;case"H":m=i(p,v,m[1],v);break;case"V":m=i(p,v,p,m[1]);break;case"Z":m=i(p,v,f,h)}r=w,p=m[m.length-2],v=m[m.length-1],m.length>4?(e=m[m.length-4],u=m[m.length-3]):(e=p,u=v),n.push(m)}return n}function i(t,r,n,e){return["C",t,r,n,e,n,e]}function o(t,r,n,e,i,o){return["C",t/3+2/3*n,r/3+2/3*e,i/3+2/3*n,o/3+2/3*e,i,o]}function s(t,r,n,e,i,o,a,c,l,p){if(p)A=p[0],_=p[1],x=p[2],E=p[3];else{var v=u(t,r,-i);t=v.x,r=v.y,v=u(c,l,-i),c=v.x,l=v.y;var d=(t-c)/2,g=(r-l)/2,m=d*d/(n*n)+g*g/(e*e);m>1&&(m=Math.sqrt(m),n=m*n,e=m*e);var w=n*n,y=e*e,b=(o==a?-1:1)*Math.sqrt(Math.abs((w*y-w*g*g-y*d*d)/(w*g*g+y*d*d)));b==1/0&&(b=1);var x=b*n*g/e+(t+c)/2,E=b*-e*d/n+(r+l)/2,A=Math.asin(((r-E)/e).toFixed(9)),_=Math.asin(((l-E)/e).toFixed(9));A=x>t?f-A:A,_=x>c?f-_:_,0>A&&(A=2*f+A),0>_&&(_=2*f+_),a&&A>_&&(A-=2*f),!a&&_>A&&(_-=2*f)}if(Math.abs(_-A)>h){var M=_,I=c,T=l;_=A+h*(a&&_>A?1:-1),c=x+n*Math.cos(_),l=E+e*Math.sin(_);var L=s(c,l,n,e,i,0,a,I,T,[_,M,x,E])}var B=Math.tan((_-A)/4),R=4/3*n*B,U=4/3*e*B,S=[2*t-(t+R*Math.sin(A)),2*r-(r-U*Math.cos(A)),c+R*Math.sin(_),l-U*Math.cos(_),c,l];if(p)return S;L&&(S=S.concat(L));for(var k=0;k<S.length;){var P=u(S[k],S[k+1],i);S[k++]=P.x,S[k++]=P.y}return S}function u(t,r,n){return{x:t*Math.cos(n)-r*Math.sin(n),y:t*Math.sin(n)+r*Math.cos(n)}}function a(t){return t*(f/180)}var f=Math.PI,h=a(120);r.exports=e},{}],108:[function(t,r,n){r.exports=function(t,r){return t[0]=r[0],t[1]=r[1],t}},{}],109:[function(t,r,n){function e(t,r,n){t.positions&&t.cells&&(n=r,r=t.cells,t=t.positions),n=n||new Float32Array(9*r.length);for(var e=0,i=0,o=r.length;o>e;e+=1)n[i++]=t[r[e][0]][0],n[i++]=t[r[e][0]][1],n[i++]=t[r[e][0]][2],n[i++]=t[r[e][1]][0],n[i++]=t[r[e][1]][1],n[i++]=t[r[e][1]][2],n[i++]=t[r[e][2]][0],n[i++]=t[r[e][2]][1],n[i++]=t[r[e][2]][2];return n}r.exports=e},{}],110:[function(t,r,n){var e={create:t("gl-vec2/create"),add:t("gl-vec2/add"),dot:t("gl-vec2/dot"),sub:t("gl-vec2/subtract"),scale:t("gl-vec2/scale"),distance:t("gl-vec2/distance")};r.exports=t("./lib/build")(e)},{"./lib/build":111,"gl-vec2/add":112,"gl-vec2/create":113,"gl-vec2/distance":114,"gl-vec2/dot":115,"gl-vec2/scale":116,"gl-vec2/subtract":117}],111:[function(t,r,n){r.exports=function(t){function r(r,n){if(!r||2!==r.length)throw new Error("two points must be specified for the constraint");if(!r[0].position||!r[1].position)throw new Error("must specify verlet-point or similar, with { position }");this.points=r,this.stiffness=1,n&&"number"==typeof n.stiffness&&(this.stiffness=n.stiffness),n&&"number"==typeof n.restingDistance?this.restingDistance=n.restingDistance:this.restingDistance=t.distance(this.points[0].position,this.points[1].position)}var n=t.create(),e=t.create();return r.prototype.solve=function(){var r=this.points[0],i=this.points[1],o=r.position,s=i.position,u="number"==typeof r.mass?r.mass:1,a="number"==typeof i.mass?i.mass:1;t.sub(n,o,s);var f,h,c=Math.sqrt(t.dot(n,n)),l=0===c?this.restingDistance:(this.restingDistance-c)/c;if(0===u||0===a)f=this.stiffness,h=this.stiffness;else{var p=1/u,v=1/a;f=p/(p+v)*this.stiffness,h=this.stiffness-f}return t.scale(e,n,f*l),t.add(o,o,e),t.scale(e,n,h*l),t.sub(s,s,e),c},function(t,n,e){return new r(t,n,e)}}},{}],112:[function(t,r,n){function e(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t}r.exports=e},{}],113:[function(t,r,n){function e(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}r.exports=e},{}],114:[function(t,r,n){function e(t,r){var n=r[0]-t[0],e=r[1]-t[1];return Math.sqrt(n*n+e*e)}r.exports=e},{}],115:[function(t,r,n){function e(t,r){return t[0]*r[0]+t[1]*r[1]}r.exports=e},{}],116:[function(t,r,n){function e(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t}r.exports=e},{}],117:[function(t,r,n){function e(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t}r.exports=e},{}],118:[function(t,r,n){var e={create:t("gl-vec2/create"),sub:t("gl-vec2/subtract"),copy:t("gl-vec2/copy")};r.exports=t("./lib/build")(e)},{"./lib/build":119,"gl-vec2/copy":120,"gl-vec2/create":121,"gl-vec2/subtract":122}],119:[function(t,r,n){r.exports=function(t){function r(r){this.position=t.create(),this.previous=t.create(),this.acceleration=t.create(),this.mass=1,this.radius=0,r&&"number"==typeof r.mass&&(this.mass=r.mass),r&&"number"==typeof r.radius&&(this.radius=r.radius),r&&r.position&&t.copy(this.position,r.position),r&&(r.previous||r.position)&&t.copy(this.previous,r.previous||r.position),r&&r.acceleration&&t.copy(this.acceleration,r.acceleration)}return r.prototype.addForce=function(r){return t.sub(this.previous,this.previous,r),this},r.prototype.place=function(r){return t.copy(this.position,r),t.copy(this.previous,r),this},function(t){return new r(t)}}},{}],120:[function(t,r,n){function e(t,r){return t[0]=r[0],t[1]=r[1],t}r.exports=e},{}],121:[function(t,r,n){arguments[4][113][0].apply(n,arguments)},{dup:113}],122:[function(t,r,n){arguments[4][117][0].apply(n,arguments)},{dup:117}],123:[function(t,r,n){var e={create:t("gl-vec2/create"),add:t("gl-vec2/add"),multiply:t("gl-vec2/multiply"),sub:t("gl-vec2/subtract"),scale:t("gl-vec2/scale"),copy:t("gl-vec2/copy"),sqrLen:t("gl-vec2/squaredLength"),fromValues:t("gl-vec2/fromValues")};r.exports=t("./lib/build")(e)},{"./lib/build":125,"gl-vec2/add":128,"gl-vec2/copy":129,"gl-vec2/create":130,"gl-vec2/fromValues":131,"gl-vec2/multiply":132,"gl-vec2/scale":133,"gl-vec2/squaredLength":134,"gl-vec2/subtract":135}],124:[function(t,r,n){r.exports=function(t){var r=t.fromValues(-(1/0),-(1/0),-(1/0)),n=t.fromValues(1/0,1/0,1/0),e=t.fromValues(1,1,1),i=t.create(),o=1e-6;return function(s,u,a,f,h){if(a||f){t.copy(i,e),a=a||r,f=f||n;var c=0,l=s.position.length,p=!1,v=s.radius||0;for(c=0;l>c;c++)"number"==typeof a[c]&&s.position[c]-v<a[c]&&(i[c]=-1,s.position[c]=a[c]+v,p=!0);for(c=0;l>c;c++)"number"==typeof f[c]&&s.position[c]+v>f[c]&&(i[c]=-1,s.position[c]=f[c]-v,p=!0);var d=t.sqrLen(u);if(p&&!(o>=d)){var g=Math.sqrt(d);0!==g&&t.scale(u,u,1/g),t.scale(i,i,g*h),t.multiply(u,u,i)}}}}},{}],125:[function(t,r,n){var e=t("as-number"),i=(t("clamp"),t("./box-collision"));r.exports=function(t){function r(n){return this instanceof r?(n=n||{},this.gravity=n.gravity||t.create(),this.friction=e(n.friction,.98),this.min=n.min,this.max=n.max,void(this.bounce=e(n.bounce,1))):new r(n)}var n=i(t),o=t.create(),s=t.create(),u=t.create();return r.prototype.collision=function(t,r){n(t,r,this.min,this.max,this.bounce)},r.prototype.integratePoint=function(r,n){var e="number"==typeof r.mass?r.mass:1;if(0===e)return this.collision(r,u),void t.copy(r.acceleration,u);t.add(r.acceleration,r.acceleration,this.gravity),t.scale(r.acceleration,r.acceleration,e),t.sub(o,r.position,r.previous),t.scale(o,o,this.friction),this.collision(r,o),t.copy(r.previous,r.position);var i=n*n;t.scale(s,r.acceleration,.5*i),t.add(r.position,r.position,o),t.add(r.position,r.position,s),t.copy(r.acceleration,u)},r.prototype.integrate=function(t,r){for(var n=0;n<t.length;n++)this.integratePoint(t[n],r)},r}},{"./box-collision":124,"as-number":126,clamp:127}],126:[function(t,r,n){r.exports=function(t,r){return"number"==typeof t?t:"number"==typeof r?r:0}},{}],127:[function(t,r,n){function e(t,r,n){return n>r?r>t?r:t>n?n:t:n>t?n:t>r?r:t}r.exports=e},{}],128:[function(t,r,n){arguments[4][112][0].apply(n,arguments)},{dup:112}],129:[function(t,r,n){arguments[4][120][0].apply(n,arguments)},{dup:120}],130:[function(t,r,n){arguments[4][113][0].apply(n,arguments)},{dup:113}],131:[function(t,r,n){function e(t,r){var n=new Float32Array(2);return n[0]=t,n[1]=r,n}r.exports=e},{}],132:[function(t,r,n){function e(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t}r.exports=e},{}],133:[function(t,r,n){arguments[4][116][0].apply(n,arguments)},{dup:116}],134:[function(t,r,n){function e(t){var r=t[0],n=t[1];return r*r+n*n}r.exports=e},{}],135:[function(t,r,n){arguments[4][117][0].apply(n,arguments)},{dup:117}],136:[function(t,r,n){"use strict";function e(t){var r=h(t,{randomization:500,simplify:.01,scale:10});r=v(d(r.positions,r.cells)),r.positions=r.positions.map(function(t){var r=125;return[t[0]*r+window.innerWidth/2,-t[1]*r+window.innerHeight/2]}),y.points=r.positions.map(function(t){return l({position:t})});var n=r.cells.map(function(t){var r=t.map(function(t){return y.points[t]});r.forEach(function(t){t.mass=g(.65,1)});var n={stiffness:1},e=[p([r[0],r[1]],n),p([r[1],r[2]],n),p([r[2],r[0]],n)];return e}).reduce(function(t,r){return t.concat(r)},[]);window.addEventListener("click",function(){y.gravity=[0,600],y.points.forEach(function(t){t.addForce(w(5))})}),u.on("tick",function(t){t=Math.min(t,30);var e=i(u.shape,2),o=e[0],a=e[1];s.save(),s.scale(u.scale,u.scale),s.clearRect(0,0,o,a);var f=s.createLinearGradient(.5*-o,0,1.5*o,0);f.addColorStop(0,"#e356c0"),f.addColorStop(1,"#e77b23"),s.fillStyle=f,s.fillRect(0,0,o,a),s.beginPath(),y.max[1]=a,n.forEach(function(t){return t.solve()}),y.integrate(y.points,t/1e3);var h=y.points.map(function(t){return t.position});c(s,h,r.cells),s.fillStyle="#fff",s.fill(),s.restore()})}var i=function(){function t(t,r){var n=[],e=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(e=(s=u.next()).done)&&(n.push(s.value),!r||n.length!==r);e=!0);}catch(a){i=!0,o=a}finally{try{!e&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=document.querySelector("canvas"),s=o.getContext("2d"),u=t("canvas-loop")(s.canvas,{scale:Math.min(2,window.devicePixelRatio)});u.start();var a=t("load-svg"),f=t("extract-svg-path").parse,h=t("svg-mesh-3d"),c=t("draw-triangles-2d"),l=t("verlet-point"),p=t("verlet-constraint"),v=t("mesh-reindex"),d=t("unindex-mesh"),g=t("random-float"),m=t("new-array"),w=function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return m(3).map(function(){return g(-t,t)})},y=t("verlet-system")({gravity:[0,0],min:[null,0],max:[null,0]});a("assets/feather.svg",function(t,r){return t?alert(t.message):void e(f(r))})},{"canvas-loop":7,"draw-triangles-2d":15,"extract-svg-path":16,"load-svg":18,"mesh-reindex":26,"new-array":27,"random-float":28,"svg-mesh-3d":29,"unindex-mesh":109,"verlet-constraint":110,"verlet-point":118,"verlet-system":123}]},{},[136]);
